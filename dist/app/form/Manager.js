//>>built
define("app/form/Manager",["dojo/_base/declare","dojox/form/Manager","dojo/_base/array","dojo/_base/connect","dojo/date/stamp","dijit/form/CheckBox","app/utils/ChangeTracker"],function(f,g,h,i,j,k,l){return f("app.form.Manager",g,{storeURL:void 0,_entity:null,changeTracker:l.getInstance(),onSubmit:function(){return!1},recordChange:function(a,d,b,c){if(c!=void 0&&c!=null&&c!="")if(c=null,this._flattenedEntity&&typeof this._flattenedEntity=="object"&&(c=this._flattenedEntity[d]),Object.prototype.toString.call(a)===
"[object Date]")a=j.toISOString(a),this.changeTracker.recordChange(this.storeURL,d,a,c);else if(typeof a=="object")for(var e in a)this._flattenedEntity&&typeof this._flattenedEntity=="object"&&(c=this._flattenedEntity[e]),this.changeTracker.recordChange(this.storeURL,this.substituteArrayIndexes(e,this._arrayPropIndexes),a[e],c);else{typeof b.$ref!="undefined"&&(a={$ref:b.$ref,id:a,__replace__:!0});if(typeof b.link_id!="undefined"&&typeof a=="object"&&a!=null)a.link_id=b.link_id;this.changeTracker.recordChange(this.storeURL,
this.substituteArrayIndexes(d,this._arrayPropIndexes),a,c)}},refreshUI:function(){},substituteArrayIndexes:function(a,d){if(typeof d=="undefined"||d==null)return a;for(var b=a.split("."),c=0;c<b.length;c++){var e=b[c];e.indexOf("[x]")!=-1&&(e=e.substr(0,e.indexOf("[x]")),d.hasOwnProperty(e)&&(b[c]=e+"["+d[e]+"]"))}return b.join(".")},clearWidgets:function(){for(var a in this.formWidgets)h.forEach(this.formWidgets[a].connections,i.disconnect);this.formWidgets={}},formWidgetValue:function(a,d){if(typeof a==
"string"&&(a=this.formWidgets[a]))a=a.widget;if(!a)return null;a.isInstanceOf&&a.isInstanceOf(k)&&typeof d!="undefined"&&typeof d.toLowerCase=="function"&&(d.toLowerCase()=="true"?d=!0:d.toLowerCase()=="false"&&(d=!1));var b=this.inherited(arguments);if(typeof a.get=="function"&&a.get("disabled")==!0)return null;return b},gatherFormValues:function(){var a=this.inherited(arguments),d={},b;for(b in a)if(a[b]!=null){var c=null;if(this.formWidgets.hasOwnProperty(b)){var e=this.formWidgets[b].widget;if(e.hasOwnProperty("$ref")&&
a[b]!=""&&(c={$ref:this.formWidgets[b].widget.$ref,id:a[b]},e.hasOwnProperty("item")&&e.item!=null&&e.item.hasOwnProperty("name")))c.name=e.item.name}c==null&&(c=a[b]);d[b]=c}return d}})});