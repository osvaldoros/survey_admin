//>>built
define(["dijit/layout/LayoutContainer","dijit/layout/StackContainer","dijit/layout/ContentPane","dojo/_base/declare","dgrid/Selection","dgrid/GridFromHtml","dojo/topic","app/uicomponents/Alert","app/uicomponents/Spinner","dojo/dom-class","app/utils/API","app/store/Entities","app/store/GridFormatters","app/config/URLs","app/loader/ModuleLoader","dojo/domReady!"],function(c,f,g,h,i,j,d,k,l,p,m,n,q,o,e){__={};__.urls=new o;__.urls.init();__.api=m;__.alert=new k;__.spinner=new l;__.entities=new n;d.subscribe("/dojo/io/send",
function(a){typeof a=="object"&&a!=null&&typeof a.ioArgs=="object"&&a.ioArgs!=null&&a.ioArgs.handleAs=="json"&&a.ioArgs.args.showLoader!==!1&&__.spinner.spin()});d.subscribe("/dojo/io/done",function(a,b){typeof a=="object"&&a!=null&&typeof a.ioArgs=="object"&&a.ioArgs!=null&&a.ioArgs.handleAs=="json"&&(__.spinner.unspin(),typeof b=="object"&&b!=null&&b.hasOwnProperty("error")&&(console.log(b.error),b.error.code>5E3&&b.error.code<6E3&&__.logout(),b.error.code!=2E3&&console.warn(b.error.message)))});
CustomGrid=h([j,i]);window.dgrid={Grid:CustomGrid};c=new c({design:"headline"},"appLayout");__.topLevelComponents=new f({region:"center",id:"topLevelComponents"});__.logout=function(){delete __.user;__.authManager.logout();__.setCurrentState("app/Auth")};__.getCurrentState=function(){return __.topLevelComponents.selectedChildWidget.moduleURL};__.setCurrentState=function(a){for(var b=__.topLevelComponents.getChildren(),c=0;c<b.length;c++){var d=b[c];if(d.moduleURL==a){__.topLevelComponents.selectChild(d);
break}}};c.addChild(__.topLevelComponents);c.addChild(__.spinner);__.topLevelComponents.addChild(new g);__.topLevelComponents.addChild(new e({moduleURL:"app/Auth",parentStack:__.topLevelComponents}));__.topLevelComponents.addChild(new e({moduleURL:"app/Workspace",parentStack:__.topLevelComponents}));c.startup();__.setCurrentState("app/Auth")});