//>>built
require({cache:{"url:app/uicomponents/templates/LookupField.html":'<div class="moduleContainer">\n\t<div data-dojo-attach-point="focusNode"></div>\n\t<input type="text" required="true" name="entity.name" style="width:131px;" data-dojo-attach-point="labelFld" placeholder="Select one" disabled="disabled" dojoType="dijit.form.ValidationTextBox" /></td>\n\t<div data-dojo-type="dijit.form.Button" data-dojo-attach-point="findBtn">Find</div>\n</div>\n\t\t\n'}});
define("app/uicomponents/LookupField",["dojo/_base/declare","dojo/on","dojo/topic","dijit/form/_FormWidget","app/mixins/WidgetMap","dijit/_WidgetsInTemplateMixin","dojo/text!./templates/LookupField.html","dojo/_base/lang","dijit/form/ValidationTextBox"],function(d,e,j,f,g,h,i,c){return d("app.uicomponents.LookupField",[f,h,g],{widgetsInTemplate:!0,templateString:i,entityLabel:void 0,title:void 0,storeURL:null,_value:null,startup:function(){this.inherited(arguments);if(typeof this.eventHandlers=="undefined")this.eventHandlers=
[];this.labelFld=this.getWidget("labelFld");this.findBtn=this.getWidget("findBtn");this.eventHandlers.push(e(this.findBtn,"click",c.hitch(this,"findClicked")))},findClicked:function(){__.searchDialog.set("title",typeof this.title!="undefined"?this.title:typeof this.entityLabel!="undefined"?"Choose a "+this.entityLabel:"Choose one");__.searchDialog.set("store",this.storeURL);__.searchDialog.set("edit_store",this.edit_store);__.searchDialog.set("base_query",this.base_query);__.searchDialog.set("newButtonHandler",
this.newButtonHandler);typeof this.columns!="undefined"?__.searchDialog.set("resultColumns",this.columns):__.searchDialog.set("resultColumns",[{label:"Id",field:"id",sortable:!0},{label:"Name",field:"name",sortable:!0},{label:"Address",field:"street1",sortable:!0},{label:"City",field:"city",sortable:!0},{label:"Phone",field:"phone"}]);__.searchDialog.show(c.hitch(this,"entitySelected"))},entitySelected:function(a){this._value=a;this._setLabel(a);this.onChange(!0)},_setLabel:function(a){var b="";a!=
void 0&&a!=null&&(typeof a=="string"?a!=""?(typeof this.entityLabel!="undefined"&&(b+=this.entityLabel.toLowerCase()),b+=" "+a):b+="removed":(typeof this.entityLabel!="undefined"&&(b+=this.entityLabel.toLowerCase()),typeof a.name!="undefined"?b+=" "+a.name:typeof a.id!="undefined"&&(b+=" "+a.id)));this.labelFld.set("value",b)},_setValueAttr:function(a,b){this.inherited(arguments);this._value=a;this._setLabel(a);if(b)this.onChange(!0)},_getValueAttr:function(){this.inherited(arguments);return this._value.id}})});