//>>built
require({cache:{"url:app/workspace/templates/Breadcrumb.html":'<div class="moduleContainer" data-dojo-attach-point="containerNode" data-dojo-attach-point="containerNode" data-dojo-type="dijit.layout.BorderContainer">\n\t<button dojoType="app.form.ArrowButton" data-dojo-attach-point="userCrumb">first name</button>\n\t<button dojoType="app.form.ArrowButton" data-dojo-attach-point="orgCrumb">Org</button>\n</div>\n\t\t\n'}});
define("app/workspace/Breadcrumb",["dojo/_base/declare","dojo/on","dojo/dom","dijit/form/Button","app/form/ArrowButton","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","app/mixins/StatefulModule","dojo/text!./templates/Breadcrumb.html","dojo/_base/lang","dojo/_base/xhr","dijit/registry","dojo/parser","app/utils/HashManager"],function(e,b,l,c,d,f,g,h,i,j,m,n,o,p,k){return e("app.workspace.Breadcrumb",[f,g,h,i],{user:"",widgetsInTemplate:!0,templateString:j,moduleCrumb:null,
stateCrumb:null,entityCrumb:null,hashManager:k.getInstance(),startup:function(){this.inherited(arguments);this.userCrumb=this.getWidget("userCrumb");this.orgCrumb=this.getWidget("orgCrumb")},onHashChange:function(a){this.hashParams=this.hashManager.parseHash(a);this.updateCrumbs()},onActivate:function(){if(typeof this.crumbEventHandlers=="undefined")this.crumbEventHandlers=[];if(typeof this.eventHandlers=="undefined")this.eventHandlers=[];var a;a=typeof __.user.name!="undefined"?__.user.name:typeof __.user.username!=
"undefined"?__.user.username:"Unnamed user";var b;b=typeof __.user.client=="object"&&__.user.client!=null&&typeof __.user.client.name!="undefined"?__.user.client.name:"Global Admin";this.userCrumb.set("label",a);this.orgCrumb.set("label",b);this.onHashChange(this.hashManager.getHash());this.eventHandlers.push(dojo.subscribe("/__/hashchange",this,this.onHashChange))},updateCrumbs:function(){this.removeCrumbHandlers();this.destroyCrumbs();if(typeof this.hashParams.moduleName!="undefined")typeof this.hashParams.stateName!=
"undefined"&&this.hashParams.stateName!=""?(this.moduleCrumb=new d({label:this.hashParams.moduleName}),this.moduleCrumb.placeAt(this.domNode),typeof this.hashParams.entityName!="undefined"&&this.hashParams.entityName!=""?(this.stateCrumb=new d({label:this.hashParams.stateName}),this.stateCrumb.placeAt(this.domNode),this.entityCrumb=new c({label:this.hashParams.entityName}),this.entityCrumb.placeAt(this.domNode)):(this.stateCrumb=new c({label:this.hashParams.stateName}),this.stateCrumb.placeAt(this.domNode))):
(this.moduleCrumb=new c({label:this.hashParams.moduleName}),this.moduleCrumb.placeAt(this.domNode));this.addCrumbHandlers()},addCrumbHandlers:function(){var a=this;this.crumbEventHandlers.push(b(this.orgCrumb,"click",function(){this.hashManager.setHash("companies/choose")}));this.moduleCrumb!=null&&this.crumbEventHandlers.push(b(this.moduleCrumb,"click",function(){a.hashManager.dropHashItemsAfterNumber(0)}));this.stateCrumb!=null&&this.crumbEventHandlers.push(b(this.stateCrumb,"click",function(){a.hashManager.dropHashItemsAfterNumber(1)}));
this.entityCrumb!=null&&this.crumbEventHandlers.push(b(this.entityCrumb,"click",function(){a.hashManager.dropHashItemsAfterNumber(2)}))},removeCrumbHandlers:function(){for(var a=0;a<this.crumbEventHandlers.length;a++)this.crumbEventHandlers[a].remove();this.crumbEventHandlers=[]},destroyCrumbs:function(){if(this.moduleCrumb!=null)this.moduleCrumb.destroyRecursive(),this.moduleCrumb=null;if(this.stateCrumb!=null)this.stateCrumb.destroyRecursive(),this.stateCrumb=null;if(this.entityCrumb!=null)this.entityCrumb.destroyRecursive(),
this.entityCrumb=null},onDeactivate:function(){for(var a=0;a<this.eventHandlers.length;a++)this.eventHandlers[a].remove();this.eventHandlers=[];this.removeCrumbHandlers();this.destroyCrumbs()}})});