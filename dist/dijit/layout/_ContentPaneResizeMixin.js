//>>built
define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/query","dojo/_base/sniff","dojo/_base/window","../registry","./utils","../_Contained"],function(g,j,f,h,e,i,k,l,m,n,o){return j("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.connect(l("ie")?this.domNode:m.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize()})}},_checkIfSingleChild:function(){var a=k("> *",this.containerNode).filter(function(a){return a.tagName!=="SCRIPT"}),b=a.filter(function(a){return f.has(a,"data-dojo-type")||f.has(a,"dojoType")||f.has(a,"widgetId")}),c=g.filter(b.map(n.byNode),function(a){return a&&a.domNode&&a.resize});a.length==
b.length&&c.length==1?this._singleChild=c[0]:delete this._singleChild;h.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){!this._wasShown&&this.open!==!1&&this._onShow();this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,b){a&&e.setMarginBox(this.domNode,a);var c=this.containerNode;if(c===this.domNode){var d=b||
{};i.mixin(d,a||{});if(!("h"in d)||!("w"in d))d=i.mixin(e.getMarginBox(c),d);this._contentBox=o.marginBox2contentBox(c,d)}else this._contentBox=e.getContentBox(c);this._layoutChildren();delete this._needLayout},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||e.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else g.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&
"open"in this)return this.open;return this._resizeCalled}else if("open"in this)return this.open;else{var a=this.domNode,b=this.domNode.parentNode;return a.style.display!="none"&&a.style.visibility!="hidden"&&!h.contains(a,"dijitHidden")&&b&&b.style&&b.style.display!="none"}},_onShow:function(){this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments);this._wasShown=!0}})});