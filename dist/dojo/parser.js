//>>built
define("dojo/parser",["./_base/kernel","./_base/lang","./_base/array","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./query","./on","./ready"],function(k,q,s,z,u,J,B,C,D,E,F){var G={"dom-attributes-explicit":document.createElement("div").attributes.length<40};k.parser=new function(){function H(g){var e={},j;for(j in g)j.charAt(0)!="_"&&(e[j.toLowerCase()]=j);return e}var A={};C.after(q,"extend",function(){A={}},!0);var w={};this._functionFromScript=function(g,
e){var j="",f="",k=g.getAttribute(e+"args")||g.getAttribute("args");k&&s.forEach(k.split(/\s*,\s*/),function(e,f){j+="var "+e+" = arguments["+f+"]; "});(k=g.getAttribute("with"))&&k.length&&s.forEach(k.split(/\s*,\s*/),function(e){j+="with("+e+"){";f+="}"});return new Function(j+g.innerHTML+f)};this.instantiate=function(g,e,j){var f=[],e=e||{},j=j||{},x=(j.scope||k._scopeName)+"Type",n="data-"+(j.scope||k._scopeName)+"-",y=n+"type",v={};s.forEach([n+"props",y,x,n+"id","jsId",n+"attach-point",n+"attach-event",
"dojoAttachPoint","dojoAttachEvent","class","style"],function(a){v[a.toLowerCase()]=a.replace(j.scope,"dojo")});s.forEach(g,function(a){var K;if(a){var c=a.node||a,m=x in e?e[x]:a.node?a.type:c.getAttribute(y)||c.getAttribute(x),h=w[m]||(w[m]=q.getObject(m)),o=h&&h.prototype;if(!h)throw Error("Could not load class '"+m);var i={};j.defaults&&q.mixin(i,j.defaults);a.inherited&&q.mixin(i,a.inherited);var t;if(G["dom-attributes-explicit"])t=c.attributes;else{var b=(/^input$|^img$/i.test(c.nodeName)?c:
c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*/,"").replace(/>.*$/,"");t=s.map(b.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:c.nodeName=="LI"&&a=="value"||b=="enctype"?c.getAttribute(b):c.getAttributeNode(b).value,specified:!0}})}for(var b=0,d;d=t[b++];)if(d&&d.specified){var l=d.name,g=l.toLowerCase();d=d.value;if(g in v)switch(v[g]){case "data-dojo-props":var r=d;break;case "data-dojo-id":case "jsId":var u=d;break;case "data-dojo-attach-point":case "dojoAttachPoint":i.dojoAttachPoint=
d;break;case "data-dojo-attach-event":case "dojoAttachEvent":i.dojoAttachEvent=d;break;case "class":i["class"]=c.className;break;case "style":i.style=c.style&&c.style.cssText}else if(l in o||(l=(A[m]||(A[m]=H(o)))[g]||l),l in o)switch(typeof o[l]){case "string":i[l]=d;break;case "number":i[l]=d.length?Number(d):NaN;break;case "boolean":i[l]=d.toLowerCase()!="false";break;case "function":i[l]=d===""||d.search(/[^\w\.]+/i)!=-1?new Function(d):q.getObject(d,!1)||new Function(d);break;default:g=o[l],
i[l]=g&&"length"in g?d?d.split(/\s*,\s*/):[]:g instanceof Date?d==""?new Date(""):d=="now"?new Date:D.fromISOString(d):g instanceof k._Url?k.baseUrl+d:B.fromJson(d)}else i[l]=d}if(r)try{r=B.fromJson.call(j.propsThis,"{"+r+"}"),q.mixin(i,r)}catch(z){throw Error(z.toString()+" in data-dojo-props='"+r+"'");}q.mixin(i,e);g=a.node?a.scripts:h&&(h._noScript||o._noScript)?[]:E("> script[type^='dojo/']",c);a=[];r=[];t=[];l=[];if(g)for(b=0;b<g.length;b++){var p=g[b];c.removeChild(p);d=p.getAttribute(n+"event")||
p.getAttribute("event");var I=p.getAttribute(n+"prop"),m=p.getAttribute("type"),p=this._functionFromScript(p,n);d?m=="dojo/connect"?a.push({event:d,func:p}):m=="dojo/on"?l.push({event:d,func:p}):i[d]=p:m=="dojo/watch"?t.push({prop:I,func:p}):r.push(p)}K=(m=h.markupFactory||o.markupFactory)?m(i,c,h):new h(i,c),h=K;f.push(h);u&&q.setObject(u,h);for(b=0;b<a.length;b++)C.after(h,a[b].event,k.hitch(h,a[b].func),!0);for(b=0;b<r.length;b++)r[b].call(h);for(b=0;b<t.length;b++)h.watch(t[b].prop,t[b].func);
for(b=0;b<l.length;b++)F(h,l[b].event,l[b].func)}},this);e._started||s.forEach(f,function(a){!j.noStart&&a&&q.isFunction(a.startup)&&!a._started&&a.startup()});return f};this.parse=function(g,e){function j(a){if(!a.inherited){a.inherited={};var b=a.node,d=j(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(v)||d.textDir},c;for(c in b)b[c]&&(a.inherited[c]=b[c])}return a.inherited}var f;!e&&g&&g.rootNode?(e=g,f=e.rootNode):f=g;f=f?z.byId(f):u.body();
var e=e||{},s=(e.scope||k._scopeName)+"Type",n="data-"+(e.scope||k._scopeName)+"-",y=n+"type",v=n+"textdir",n=[],a=f.firstChild,c=e&&e.inherited;if(!c){var m=function(a,b){return a.getAttribute&&a.getAttribute(b)||(a!==u.doc&&a!==u.doc.documentElement&&a.parentNode?m(a.parentNode,b):null)},c={dir:m(f,"dir"),lang:m(f,"lang"),textDir:m(f,v)},h;for(h in c)c[h]||delete c[h]}for(var c={inherited:c},o,i;;)if(a)a.nodeType!=1?a=a.nextSibling:o&&a.nodeName.toLowerCase()=="script"?((f=a.getAttribute("type"))&&
/^dojo\/\w/i.test(f)&&o.push(a),a=a.nextSibling):i?a=a.nextSibling:(f=a.getAttribute(y)||a.getAttribute(s),h=a.firstChild,!f&&(!h||h.nodeType==3&&!h.nextSibling)?a=a.nextSibling:(c={node:a,scripts:o,parent:c},o=(i=f&&(w[f]||(w[f]=q.getObject(f))))&&!i.prototype._noScript?[]:null,f&&n.push({type:f,node:a,scripts:o,inherited:j(c)}),a=h,i=i&&i.prototype.stopParser&&!(e&&e.template)));else{if(!c||!c.node)break;a=c.node.nextSibling;o=c.scripts;i=!1;c=c.parent}return this.instantiate(n,e&&e.template?{template:!0}:
null,e)}};k.config.parseOnLoad&&k.ready(100,k.parser,"parse");return k.parser});