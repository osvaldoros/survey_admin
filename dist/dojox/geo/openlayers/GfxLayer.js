//>>built
define("dojox/geo/openlayers/GfxLayer",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/html","dojox/gfx","dojox/gfx/_base","dojox/gfx/shape","dojox/gfx/path","dojox/gfx/matrix","dojox/geo/openlayers/Feature","dojox/geo/openlayers/Layer"],function(d,e,h,i,j,k,l,m,f,n,g){return e("dojox.geo.openlayers.GfxLayer",g,{_viewport:null,constructor:function(b,a){var c=dojox.gfx.createSurface(this.olLayer.div,100,100);this._surface=c;this.setViewport(a&&a.viewport?a.viewport:c.createGroup());
d.connect(this.olLayer,"onMapResize",this,"onMapResize");this.olLayer.getDataExtent=this.getDataExtent},getViewport:function(){return this._viewport},setViewport:function(b){this._viewport&&this._viewport.removeShape();this._viewport=b;this._surface.add(b)},onMapResize:function(){this._surfaceSize()},setMap:function(){this.inherited(arguments);this._surfaceSize()},getDataExtent:function(){return this._surface.getDimensions()},getSurface:function(){return this._surface},_surfaceSize:function(){var b=
this.olLayer.map.getSize();this._surface.setDimensions(b.w,b.h)},moveTo:function(b){var a=d.style(this.olLayer.map.layerContainerDiv),c=parseInt(a.left),a=parseInt(a.top);if(b.zoomChanged||c||a)d.style(this.olLayer.div,{left:-c+"px",top:-a+"px"}),this._features!=null&&(this.getViewport().setTransform(f.translate(c,a)),this.inherited(arguments))},added:function(){this.inherited(arguments);this._surfaceSize()}})});