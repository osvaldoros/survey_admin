//>>built
define("dojox/highlight/widget/Code",["dojo","dijit","dijit/_Widget","dijit/_Templated","dojox/highlight"],function(b,e){b.declare("dojox.highlight.widget.Code",[e._Widget,e._Templated],{url:"",range:null,style:"",listType:"1",lang:"",templateString:'<div class="formatted" style="${style}"><div class="titleBar"></div><ol type="${listType}" dojoAttachPoint="codeList" class="numbers"></ol><div style="display:none" dojoAttachPoint="containerNode"></div></div>',postCreate:function(){this.inherited(arguments);
this.url?b.xhrGet({url:this.url,load:b.hitch(this,"_populate"),error:b.hitch(this,"_loadError")}):this._populate(this.containerNode.innerHTML)},_populate:function(a){this.containerNode.innerHTML="<pre><code class='"+this.lang+"'>"+a.replace(/\</g,"&lt;")+"</code></pre>";b.query("pre > code",this.containerNode).forEach(dojox.highlight.init);a=this.containerNode.innerHTML.split("\n");b.forEach(a,function(a,c){var d=b.doc.createElement("li");b.addClass(d,c%2!==0?"even":"odd");a=("<pre><code>"+a+"&nbsp;</code></pre>").replace(/\t/g,
" &nbsp; ");d.innerHTML=a;this.codeList.appendChild(d)},this);this._lines=b.query("li",this.codeList);this._updateView()},setRange:function(a){if(b.isArray(a))this.range=a,this._updateView()},_updateView:function(){if(this.range){var a=this.range;this._lines.style({display:"none"}).filter(function(b,c){return c+1>=a[0]&&c+1<=a[1]}).style({display:""});b.attr(this.codeList,"start",a[0])}},_loadError:function(a){console.warn("loading: ",this.url," FAILED",a)}})});