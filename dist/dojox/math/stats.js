//>>built
define("dojox/math/stats",["dojo","../main"],function(g,l){g.getObject("math.stats",!0,l);var h=l.math.stats;g.mixin(h,{sd:function(a){return Math.sqrt(h.variance(a))},variance:function(a){var b=0,c=0;g.forEach(a,function(a){b+=a;c+=Math.pow(a,2)});return c/a.length-Math.pow(b/a.length,2)},bestFit:function(a,b,c){b=b||"x";c=c||"y";a[0]!==void 0&&typeof a[0]=="number"&&(a=g.map(a,function(a,b){return{x:b,y:a}}));for(var d=0,f=0,i=0,h=0,j=0,l=0,n=0,k=a.length,m,e=0;e<k;e++)d+=a[e][b],f+=a[e][c],i+=
Math.pow(a[e][b],2),h+=Math.pow(a[e][c],2),j+=a[e][b]*a[e][c];for(e=0;e<k;e++)m=a[e][b]-d/k,l+=m*m,n+=m*a[e][c];a=n/(l||1);i=Math.sqrt((i-Math.pow(d,2)/k)*(h-Math.pow(f,2)/k));if(i===0)throw Error("dojox.math.stats.bestFit: the denominator for Pearson's R is 0.");j=(j-d*f/k)/i;i=Math.pow(j,2);a<0&&(j=-j);return{slope:a,intercept:(f-d*a)/(k||1),r:j,r2:i}},forecast:function(a,b,c,d){a=h.bestFit(a,c,d);return a.slope*b+a.intercept},mean:function(a){var b=0;g.forEach(a,function(a){b+=a});return b/Math.max(a.length,
1)},min:function(a){return Math.min.apply(null,a)},max:function(a){return Math.max.apply(null,a)},median:function(a){var b=a.slice(0).sort(function(a,b){return a-b});return(b[Math.floor(a.length/2)]+b[Math.ceil(a.length/2)])/2},mode:function(a){var b={},c=0,d=Number.MIN_VALUE;g.forEach(a,function(a){b[a]!==void 0?b[a]++:b[a]=1});for(var f in b)d<b[f]&&(d=b[f],c=f);return c},sum:function(a){var b=0;g.forEach(a,function(a){b+=a});return b},approxLin:function(a,b){var c=b*(a.length-1),d=Math.ceil(c),
f=d-1;if(f<0)return a[0];if(d>=a.length)return a[a.length-1];return a[f]*(d-c)+a[d]*(c-f)},summary:function(a,b){b||(a=a.slice(0),a.sort(function(a,b){return a-b}));var c=h.approxLin;return{min:a[0],p25:c(a,0.25),med:c(a,0.5),p75:c(a,0.75),max:a[a.length-1],p10:c(a,0.1),p90:c(a,0.9)}}});return l.math.stats});