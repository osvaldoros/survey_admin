//>>built
define("dojox/math/curves",["dojo","dojox"],function(l,g){l.getObject("math.curves",!0,g);l.mixin(g.math.curves,{Line:function(a,b){this.start=a;this.end=b;this.dimensions=a.length;for(var c=0;c<a.length;c++)a[c]=Number(a[c]);for(c=0;c<b.length;c++)b[c]=Number(b[c]);this.getValue=function(c){for(var b=Array(this.dimensions),d=0;d<this.dimensions;d++)b[d]=(this.end[d]-this.start[d])*c+this.start[d];return b};return this},Bezier:function(a){this.getValue=function(b){if(b>=1)return this.p[this.p.length-
1];if(b<=0)return this.p[0];for(var c=Array(this.p[0].length),a=0;f<this.p[0].length;a++)c[a]=0;for(var f=0;f<this.p[0].length;f++){for(var d=a=0,e=0;e<this.p.length;e++)a+=this.p[e][f]*this.p[this.p.length-1][0]*g.math.bernstein(b,this.p.length,e);for(e=0;e<this.p.length;e++)d+=this.p[this.p.length-1][0]*g.math.bernstein(b,this.p.length,e);c[f]=a/d}return c};this.p=a;return this},CatmullRom:function(a,b){this.getValue=function(c){var b=c*(this.p.length-1),c=Math.floor(b);b-=c;var a=c-1;a<0&&(a=0);
var d=c+1;d>=this.p.length&&(d=this.p.length-1);var e=c+2;e>=this.p.length&&(e=this.p.length-1);for(var m=b*b,j=b*b*b,g=Array(this.p[0].length),h=0;h<this.p[0].length;h++)g[h]=(-this.c*this.p[a][h]+(2-this.c)*this.p[c][h]+(this.c-2)*this.p[d][h]+this.c*this.p[e][h])*j+(2*this.c*this.p[a][h]+(this.c-3)*this.p[c][h]+(3-2*this.c)*this.p[d][h]+-this.c*this.p[e][h])*m+(-this.c*this.p[a][h]+this.c*this.p[d][h])*b+this.p[c][h];return g};this.c=b?b:0.7;this.p=a;return this},Arc:function(a,b,c){var b=g.math.midpoint(a,
b),a=function(d,b){for(var a=Array(d.length),c=0;c<d.length;c++)a[c]=d[c]+b[c];return a}(function(b){for(var c=Array(b.length),a=0;a<b.length;a++)c[a]=-b[a];return c}(b),a),i=Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)),f=g.math.radiansToDegrees(Math.atan(a[1]/a[0]));a[0]<0?f-=90:f+=90;g.math.curves.CenteredArc.call(this,b,i,f,f+(c?-180:180))},CenteredArc:function(a,b,c,i){this.center=a;this.radius=b;this.start=c||0;this.end=i;this.getValue=function(b){var a=Array(2),b=g.math.degreesToRadians(this.start+
(this.end-this.start)*b);a[0]=this.center[0]+this.radius*Math.sin(b);a[1]=this.center[1]-this.radius*Math.cos(b);return a};return this},Circle:function(a,b){g.math.curves.CenteredArc.call(this,a,b,0,360);return this},Path:function(){function a(){for(var b=0,a=0;a<c.length;a++){var g=b+c[a]/f;i[a]=[b,g,g-b];b=g}}var b=[],c=[],i=[],f=0;this.add=function(d,e){e<0&&console.error("dojox.math.curves.Path.add: weight cannot be less than 0");b.push(d);c.push(e);f+=e;a()};this.remove=function(d){for(var e=
0;e<b.length;e++)if(b[e]==d){b.splice(e,1);f-=c.splice(e,1)[0];break}a()};this.removeAll=function(){b=[];c=[];f=0};this.getValue=function(a){for(var c=!1,f=0,j=0;j<i.length;j++){var k=i[j];if(a>=k[0]&&a<k[1]){f=b[j].getValue((a-k[0])/k[2]);c=!0;break}}c||(f=b[b.length-1].getValue(1));for(a=0;a<j;a++)f=g.math.points.translate(f,b[a].getValue(1));return f};return this}});return g.math.curves});