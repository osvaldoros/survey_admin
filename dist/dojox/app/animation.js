//>>built
define("dojox/app/animation",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Deferred","dojo/DeferredList","dojo/on","dojo/_base/sniff"],function(j,f,n,e,o,p,q,k){var l="transitionend",d="t",g="translate3d(",h=",0,0)";k("webkit")?(d="WebkitT",l="webkitTransitionEnd"):k("mozilla")&&(d="MozT",g="translateX(",h=")");n("dojox.app.animation",null,{constructor:function(b){f.mixin(this,{startState:{},endState:{},node:null,duration:250,"in":!0,direction:1,autoClear:!0});
f.mixin(this,b);if(!this.deferred)this.deferred=new o},play:function(){dojox.app.animation.groupedPlay([this])},_applyState:function(b){var c=this.node.style,a;for(a in b)b.hasOwnProperty(a)&&(c[a]=b[a])},initState:function(){this.node.style[d+"ransitionProperty"]="none";this.node.style[d+"ransitionDuration"]="0ms";this._applyState(this.startState)},_beforeStart:function(){if(this.node.style.display==="none")this.node.style.display="";this.beforeStart()},_beforeClear:function(){this.node.style[d+
"ransitionProperty"]=null;this.node.style[d+"ransitionDuration"]=null;if(this["in"]!==!0)this.node.style.display="none";this.beforeClear()},_onAfterEnd:function(){this.deferred.resolve(this.node);this.node.id&&dojox.app.animation.playing[this.node.id]===this.deferred&&delete dojox.app.animation.playing[this.node.id];this.onAfterEnd()},beforeStart:function(){},beforeClear:function(){},onAfterEnd:function(){},start:function(){this._beforeStart();var b=this;b.node.style[d+"ransitionProperty"]="all";
b.node.style[d+"ransitionDuration"]=b.duration+"ms";q.once(b.node,l,function(){b.clear()});this._applyState(this.endState)},clear:function(){this._beforeClear();this._removeState(this.endState);console.log(this.node.id+" clear.");this._onAfterEnd()},_removeState:function(b){var c=this.node.style,a;for(a in b)b.hasOwnProperty(a)&&(c[a]=null)}});dojox.app.animation.slide=function(b,c){var a=new dojox.app.animation(c);a.node=b;var e="0",m="0";a["in"]?e=a.direction===1?"100%":"-100%":m=a.direction===
1?"-100%":"100%";a.startState[d+"ransform"]=g+e+h;a.endState[d+"ransform"]=g+m+h;return a};dojox.app.animation.fade=function(b,c){var a=new dojox.app.animation(c);a.node=b;var d="0",e="0";a["in"]?e="1":d="1";f.mixin(a,{startState:{opacity:d},endState:{opacity:e}});return a};dojox.app.animation.flip=function(b,c){var a=new dojox.app.animation(c);a.node=b;a["in"]?(f.mixin(a,{startState:{opacity:"0"},endState:{opacity:"1"}}),a.startState[d+"ransform"]="scale(0,0.8) skew(0,-30deg)",a.endState[d+"ransform"]=
"scale(1,1) skew(0,0)"):(f.mixin(a,{startState:{opacity:"1"},endState:{opacity:"0"}}),a.startState[d+"ransform"]="scale(1,1) skew(0,0)",a.endState[d+"ransform"]="scale(0,0.8) skew(0,30deg)");return a};var i=function(b){var c=[];e.forEach(b,function(a){a.id&&dojox.app.animation.playing[a.id]&&c.push(dojox.app.animation.playing[a.id])});return new p(c)};dojox.app.animation.getWaitingList=i;dojox.app.animation.groupedPlay=function(b){var c=e.filter(b,function(a){return a.node}),c=i(c);e.forEach(b,function(a){if(a.node.id)dojox.app.animation.playing[a.node.id]=
a.deferred});j.when(c,function(){e.forEach(b,function(a){a.initState()});setTimeout(function(){e.forEach(b,function(a){a.start()})},33)})};dojox.app.animation.chainedPlay=function(b){var c=e.filter(b,function(a){return a.node}),c=i(c);e.forEach(b,function(a){if(a.node.id)dojox.app.animation.playing[a.node.id]=a.deferred});j.when(c,function(){e.forEach(b,function(a){a.initState()});for(var a=1,c=b.length;a<c;a++)b[a-1].deferred.then(f.hitch(b[a],function(){this.start()}));setTimeout(function(){b[0].start()},
33)})};dojox.app.animation.playing={};return dojox.app.animation});