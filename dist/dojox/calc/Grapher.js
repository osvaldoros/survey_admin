//>>built
require({cache:{"url:dojox/calc/templates/Grapher.html":'<div>\n<div data-dojo-attach-point="chartsParent" class="dojoxCalcChartHolder"></div>\n<div data-dojo-attach-point="outerDiv">\n<div data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point="windowOptions" class="dojoxCalcDropDownForWindowOptions" title="Window Options">\n\t<div>Window Options</div>\n\t<div data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="windowOptionsInside" class="dojoxCalcTooltipDialogForWindowOptions" title="">\n\t\t<table class="dojoxCalcGraphOptionTable">\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\tWidth:\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphWidth" class="dojoxCalcGraphWidth" value="500" />\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\tHeight:\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphHeight" class="dojoxCalcGraphHeight" value="500" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\tX >=\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMinX" class="dojoxCalcGraphMinX" value="-10" />\n\t\t\t\t</td>\n\n\t\t\t\t<td>\n\t\t\t\t\tX <=\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMaxX" class="dojoxCalcGraphMaxX" value="10" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\tY >=\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMinY" class="dojoxCalcGraphMinY" value="-10" />\n\t\t\t\t</td>\n\n\t\t\t\t<td>\n\t\t\t\t\tY <=\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="graphMaxY" class="dojoxCalcGraphMaxY" value="10" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>\n\n<BR>\n\n<div class="dojoxCalcGrapherFuncOuterDiv">\n\t<table class="dojoxCalcGrapherFuncTable" data-dojo-attach-point="graphTable">\n\t</table>\n</div>\n\n<div data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point=\'addFuncButton\' class="dojoxCalcDropDownAddingFunction">\n\t<div>Add Function</div>\n\t<div data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="addFuncInside" class="dojoxCalcTooltipDialogAddingFunction" title="">\n\t\t<table class="dojoxCalcGrapherModeTable">\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\tMode:\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<select data-dojo-type="dijit.form.Select" data-dojo-attach-point="funcMode" class="dojoxCalcFunctionModeSelector">\n\t\t\t\t\t\t<option value="y=" selected="selected">y=</option>\n\t\t\t\t\t\t<option value="x=">x=</option>\n\t\t\t\t\t</select>\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t</tr>\n\t\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\t<input data-dojo-type="dijit.form.Button" data-dojo-attach-point="createFunc" class="dojoxCalcAddFunctionButton" label="Create" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>\n<BR>\n<BR>\n<table class="dijitInline dojoxCalcGrapherLayout">\n\t<tr>\n\t\t<td class="dojoxCalcGrapherButtonContainer">\n\t\t\t<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'selectAllButton\' label="Select All" />\n\t\t</td>\n\t\t<td class="dojoxCalcGrapherButtonContainer">\n\t\t\t<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'deselectAllButton\' label="Deselect All" />\n\t\t</td>\n\t</tr>\n\t<tr>\n\t\t<td class="dojoxCalcGrapherButtonContainer">\n\t\t\t<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'drawButton\'label="Draw Selected" />\n\t\t</td>\n\t\t<td class="dojoxCalcGrapherButtonContainer">\n\t\t\t<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'eraseButton\' label="Erase Selected" />\n\t\t</td>\n\t</tr>\n\t<tr>\n\t\t<td class="dojoxCalcGrapherButtonContainer">\n\t\t\t<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'deleteButton\' label="Delete Selected" />\n\t\t</td>\n\t\t<td class="dojoxCalcGrapherButtonContainer">\n\t\t\t<input data-dojo-type="dijit.form.Button" class="dojoxCalcGrapherButton" data-dojo-attach-point=\'closeButton\' label="Close" />\n\t\t</td>\n\t</tr>\n</table>\n</div>\n</div>\n'}});
define("dojox/calc/Grapher",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dijit/_WidgetBase","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dojox/math/_base","dijit/registry","dijit/form/DropDownButton","dijit/TooltipDialog","dijit/form/TextBox","dijit/form/CheckBox","dijit/ColorPalette","dojox/charting/Chart","dojox/charting/axis2d/Default","dojox/charting/plot2d/Default","dojox/charting/plot2d/Lines","dojox/charting/themes/Tufte",
"dojo/colors","dojo/text!./templates/Grapher.html","dojox/calc/_Executor","dijit/form/Button","dijit/form/Select"],function(o,i,u,k,m,p,v,w,x,H,y,z,A,B,C,D,I,J,K,L,M,N,E,n){var r=1.0E-15/9,F=Math.log(2),G={graphNumber:0,fOfX:!0,color:{stroke:"black"}},o=o("dojox.calc.Grapher",[v,x,w],{templateString:E,addXYAxes:function(a){return a.addAxis("x",{max:parseInt(this.graphMaxX.get("value")),min:parseInt(this.graphMinX.get("value")),majorLabels:!0,minorLabels:!0,minorTicks:!1,microTicks:!1,htmlLabels:!0,
labelFunc:function(a){return a},maxLabelSize:30,fixUpper:"major",fixLower:"major",majorTick:{length:3}}).addAxis("y",{max:parseInt(this.graphMaxY.get("value")),min:parseInt(this.graphMinY.get("value")),labelFunc:function(a){return a},maxLabelSize:50,vertical:!0,microTicks:!1,minorTicks:!0,majorTick:{stroke:"black",length:3}})},selectAll:function(){for(var a=0;a<this.rowCount;a++)this.array[a][this.checkboxIndex].set("checked",!0)},deselectAll:function(){for(var a=0;a<this.rowCount;a++)this.array[a][this.checkboxIndex].set("checked",
!1)},drawOne:function(){},onDraw:function(){console.log("Draw was pressed")},erase:function(a){for(var d=0,c="Series "+this.array[a][this.funcNumberIndex]+"_"+d;c in this.array[a][this.chartIndex].runs;)this.array[a][this.chartIndex].removeSeries(c),d++,c="Series "+this.array[a][this.funcNumberIndex]+"_"+d;this.array[a][this.chartIndex].render();this.setStatus(a,"Hidden")},onErase:function(){for(var a=0;a<this.rowCount;a++)this.array[a][this.checkboxIndex].get("checked")&&this.erase(a)},onDelete:function(){for(var a=
0;a<this.rowCount;a++)if(this.array[a][this.checkboxIndex].get("checked")){this.erase(a);for(var d=0;d<this.functionRef;d++)this.array[a][d]&&this.array[a][d].destroy&&this.array[a][d].destroy();this.graphTable.deleteRow(a);this.array.splice(a,1);this.rowCount--;a--}},checkboxIndex:0,functionMode:1,expressionIndex:2,colorIndex:3,dropDownIndex:4,tooltipIndex:5,colorBoxFieldsetIndex:6,statusIndex:7,chartIndex:8,funcNumberIndex:9,evaluatedExpression:10,functionRef:11,createFunction:function(){var a=
this.graphTable.insertRow(-1);this.array[a.rowIndex]=[];var d=a.insertCell(-1),c=k.create("div");d.appendChild(c);var g=new C({},c);this.array[a.rowIndex][this.checkboxIndex]=g;m.add(c,"dojoxCalcCheckBox");d=a.insertCell(-1);g=this.funcMode.get("value");c=u.doc.createTextNode(g);d.appendChild(c);this.array[a.rowIndex][this.functionMode]=g;d=a.insertCell(-1);c=k.create("div");d.appendChild(c);g=new B({},c);this.array[a.rowIndex][this.expressionIndex]=g;m.add(c,"dojoxCalcExpressionBox");c=k.create("div");
g=new D({changedColor:this.changedColor},c);m.add(c,"dojoxCalcColorPalette");this.array[a.rowIndex][this.colorIndex]=g;var c=k.create("div"),h=new A({content:g},c);this.array[a.rowIndex][this.tooltipIndex]=h;m.add(c,"dojoxCalcContainerOfColor");d=a.insertCell(-1);c=k.create("div");d.appendChild(c);var b=k.create("fieldset");p.set(b,{backgroundColor:"black",width:"1em",height:"1em",display:"inline"});this.array[a.rowIndex][this.colorBoxFieldsetIndex]=b;d=new z({label:"Color ",dropDown:h},c);d.containerNode.appendChild(b);
this.array[a.rowIndex][this.dropDownIndex]=d;m.add(c,"dojoxCalcDropDownForColor");d=a.insertCell(-1);c=k.create("fieldset");c.innerHTML="Hidden";this.array[a.rowIndex][this.statusIndex]=c;m.add(c,"dojoxCalcStatusBox");d.appendChild(c);c=k.create("div");p.set(c,{position:"absolute",left:"0px",top:"0px"});this.chartsParent.appendChild(c);this.array[a.rowIndex][this.chartNodeIndex]=c;m.add(c,"dojoxCalcChart");c=(new dojox.charting.Chart(c)).setTheme(dojox.charting.themes.Tufte).addPlot("default",{type:"Lines",
shadow:{dx:1,dy:1,width:2,color:[0,0,0,0.3]}});this.addXYAxes(c);this.array[a.rowIndex][this.chartIndex]=c;g.set("chart",c);g.set("colorBox",b);g.set("onChange",i.hitch(g,"changedColor"));this.array[a.rowIndex][this.funcNumberIndex]=this.funcNumber++;this.rowCount++},setStatus:function(a,d){this.array[a][this.statusIndex].innerHTML=d},changedColor:function(){for(var a=this.get("chart"),d=this.get("colorBox"),c=0;c<a.series.length;c++)if(a.series[c].stroke&&a.series[c].stroke.color)a.series[c].stroke.color=
this.get("value"),a.dirty=!0;a.render();p.set(d,{backgroundColor:this.get("value")})},makeDirty:function(){this.dirty=!0},checkDirty1:function(){setTimeout(i.hitch(this,"checkDirty"),0)},checkDirty:function(){if(this.dirty){for(var a=0;a<this.rowCount;a++)this.array[a][this.chartIndex].removeAxis("x"),this.array[a][this.chartIndex].removeAxis("y"),this.addXYAxes(this.array[a][this.chartIndex]);this.onDraw()}this.dirty=!1},postCreate:function(){this.inherited(arguments);this.createFunc.set("onClick",
i.hitch(this,"createFunction"));this.selectAllButton.set("onClick",i.hitch(this,"selectAll"));this.deselectAllButton.set("onClick",i.hitch(this,"deselectAll"));this.drawButton.set("onClick",i.hitch(this,"onDraw"));this.eraseButton.set("onClick",i.hitch(this,"onErase"));this.deleteButton.set("onClick",i.hitch(this,"onDelete"));this.dirty=!1;this.graphWidth.set("onChange",i.hitch(this,"makeDirty"));this.graphHeight.set("onChange",i.hitch(this,"makeDirty"));this.graphMaxX.set("onChange",i.hitch(this,
"makeDirty"));this.graphMinX.set("onChange",i.hitch(this,"makeDirty"));this.graphMaxY.set("onChange",i.hitch(this,"makeDirty"));this.graphMinY.set("onChange",i.hitch(this,"makeDirty"));this.windowOptionsInside.set("onClose",i.hitch(this,"checkDirty1"));this.rowCount=this.funcNumber=0;this.array=[]},startup:function(){this.inherited(arguments);var a=y.getEnclosingWidget(this.domNode.parentNode);a&&typeof a.close=="function"?this.closeButton.set("onClick",i.hitch(a,"close")):p.set(this.closeButton.domNode,
{display:"none"});this.createFunction();this.array[0][this.checkboxIndex].set("checked",!0);this.onDraw();this.erase(0);this.array[0][this.expressionIndex].value=""}});return i.mixin(n,{draw:function(a,d,c){c=i.mixin({},G,c);a.fullGeometry();var d=c.fOfX==!0?n.generatePoints(d,"x","y",a.axes.x.scaler.bounds.span,a.axes.x.scaler.bounds.lower,a.axes.x.scaler.bounds.upper,a.axes.y.scaler.bounds.lower,a.axes.y.scaler.bounds.upper):n.generatePoints(d,"y","x",a.axes.y.scaler.bounds.span,a.axes.y.scaler.bounds.lower,
a.axes.y.scaler.bounds.upper,a.axes.x.scaler.bounds.lower,a.axes.x.scaler.bounds.upper),g=0;if(d.length>0)for(;g<d.length;g++)d[g].length>0&&a.addSeries("Series "+c.graphNumber+"_"+g,d[g],c.color);for(var h="Series "+c.graphNumber+"_"+g;h in a.runs;)a.removeSeries(h),g++,h="Series "+c.graphNumber+"_"+g;a.render();return d},generatePoints:function(a,d,c,g,h,b,i,k){function m(a,b,e,f){for(;b<=e;){var g={};g[d]=(b[d]+e[d])/2;g[c]=a(g[d]);if(f==g[c]||g[d]==e[d]||g[d]==b[d])return g;var h=!0;f<g[c]&&(h=
!1);g[c]<e[c]?h?b=g:e=g:g[c]<b[c]&&(h?e=g:b=g)}return NaN}function p(a,b,e){for(var g=[[],[]],f;b[d]<=e[d];){var h=(b[d]+e[d])/2;f={};f[d]=h;f[c]=a(h);var h=f[d]+(f[d]>-1&&f[d]<1?f[d]<0?f[d]>=-r?-f[d]:f[d]/Math.ceil(f[d]/r):r:Math.abs(f[d])*r),i={};i[d]=h;i[c]=a(h);if(Math.abs(i[c])>=Math.abs(f[c]))g[0].push(f),b=i;else{g[1].unshift(f);if(e[d]==f[d])break;e=f}}return g}function o(a,b){var c=!1,d=!1;a<b&&(c=!0);b>0&&(d=!0);return{inc:c,pos:d}}function q(a,b){return(b[c]-a[c])/(b[d]-a[d])}var g=1<<
Math.ceil(Math.log(g)/F),l=(b-h)/g,b=[],f=0,e,j;b[f]=[];for(var n=h,t=0;t<=g;n+=l,t++){h={};h[d]=n;h[c]=a({_name:d,_value:n,_graphing:!0});if(h[d]==null||h[c]==null)return{};if(!isNaN(h[c])&&!isNaN(h[d]))if(b[f].push(h),b[f].length==3)e=o(q(b[f][b[f].length-3],b[f][b[f].length-2]),q(b[f][b[f].length-2],b[f][b[f].length-1]));else if(!(b[f].length<4)&&(j=o(q(b[f][b[f].length-3],b[f][b[f].length-2]),q(b[f][b[f].length-2],b[f][b[f].length-1])),e.inc!=j.inc||e.pos!=j.pos)){var s=p(a,b[f][b[f].length-3],
b[f][b[f].length-1]),h=b[f].pop();b[f].pop();for(e=0;e<s[0].length;e++)b[f].push(s[0][e]);for(e=1;e<s.length;e++)b[++f]=s.pop();b[f].push(h);e=j}}for(;b.length>1;){for(e=0;e<b[1].length;e++)b[0][b[0].length-1][d]!=b[1][e][d]&&b[0].push(b[1][e]);b.splice(1,1)}b=b[0];g=0;l=[[]];for(e=0;e<b.length;e++)if(isNaN(b[e][c])||isNaN(b[e][d])){for(;isNaN(b[e][c])||isNaN(b[e][d]);)b.splice(e,1);l[++g]=[];e--}else if(b[e][c]>k||b[e][c]<i){e>0&&b[e-1].y!=i&&b[e-1].y!=k&&(j=q(b[e-1],b[e]),j>1.0E200?j=1.0E200:j<
-1.0E200&&(j=-1.0E200),f=b[e][c]>k?k:i,h=b[e][c]-j*b[e][d],j=(f-h)/j,h={},h[d]=j,h[c]=a(j),h[c]!=f&&(h=m(a,b[e-1],b[e],f)),l[g].push(h),l[++g]=[]);for(;e<b.length&&(b[e][c]>k||b[e][c]<i);)e++;if(e>=b.length){l[g].length==0&&l.splice(g,1);break}e>0&&b[e].y!=i&&b[e].y!=k&&(j=q(b[e-1],b[e]),j>1.0E200?j=1.0E200:j<-1.0E200&&(j=-1.0E200),f=b[e-1][c]>k?k:i,h=b[e][c]-j*b[e][d],j=(f-h)/j,h={},h[d]=j,h[c]=a(j),h[c]!=f&&(h=m(a,b[e-1],b[e],f)),l[g].push(h),l[g].push(b[e]))}else l[g].push(b[e]);return l},Grapher:o})});