//>>built
define("dojox/gfx/Mover",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/event"],function(h,f,g,c,d){return g("dojox.gfx.Mover",null,{constructor:function(a,b,e){this.shape=a;this.lastX=b.clientX;this.lastY=b.clientY;a=this.host=e;b=document;e=c.connect(b,"onmousemove",this,"onFirstMove");this.events=[c.connect(b,"onmousemove",this,"onMouseMove"),c.connect(b,"onmouseup",this,"destroy"),c.connect(b,"ondragstart",d,"stop"),c.connect(b,"onselectstart",d,"stop"),
e];if(a&&a.onMoveStart)a.onMoveStart(this)},onMouseMove:function(a){var b=a.clientX,c=a.clientY;this.host.onMove(this,{dx:b-this.lastX,dy:c-this.lastY});this.lastX=b;this.lastY=c;d.stop(a)},onFirstMove:function(){this.host.onFirstMove(this);c.disconnect(this.events.pop())},destroy:function(){f.forEach(this.events,c.disconnect);var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.shape=null}})});