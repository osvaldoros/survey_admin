//>>built
define("dojox/color/Palette",["dojo/_base/kernel","../main","dojo/_base/lang","dojo/_base/array","./_base"],function(q,r,i,h,c){function p(a,b,d){var e=new c.Palette;e.colors=[];h.forEach(a.colors,function(a){e.colors.push(new c.Color({r:Math.min(255,Math.max(0,b=="dr"?a.r+d:a.r)),g:Math.min(255,Math.max(0,b=="dg"?a.g+d:a.g)),b:Math.min(255,Math.max(0,b=="db"?a.b+d:a.b)),a:Math.min(1,Math.max(0,b=="da"?a.a+d:a.a))}))});return e}function j(a,b,d){var e=new c.Palette;e.colors=[];h.forEach(a.colors,
function(a){a=a.toCmy();e.colors.push(c.fromCmy(Math.min(100,Math.max(0,b=="dc"?a.c+d:a.c)),Math.min(100,Math.max(0,b=="dm"?a.m+d:a.m)),Math.min(100,Math.max(0,b=="dy"?a.y+d:a.y))))});return e}function m(a,b,d){var e=new c.Palette;e.colors=[];h.forEach(a.colors,function(a){a=a.toCmyk();e.colors.push(c.fromCmyk(Math.min(100,Math.max(0,b=="dc"?a.c+d:a.c)),Math.min(100,Math.max(0,b=="dm"?a.m+d:a.m)),Math.min(100,Math.max(0,b=="dy"?a.y+d:a.y)),Math.min(100,Math.max(0,b=="dk"?a.b+d:a.b))))});return e}
function n(a,b,d){var e=new c.Palette;e.colors=[];h.forEach(a.colors,function(a){a=a.toHsl();e.colors.push(c.fromHsl((b=="dh"?a.h+d:a.h)%360,Math.min(100,Math.max(0,b=="ds"?a.s+d:a.s)),Math.min(100,Math.max(0,b=="dl"?a.l+d:a.l))))});return e}function o(a,b,d){var e=new c.Palette;e.colors=[];h.forEach(a.colors,function(a){a=a.toHsv();e.colors.push(c.fromHsv((b=="dh"?a.h+d:a.h)%360,Math.min(100,Math.max(0,b=="ds"?a.s+d:a.s)),Math.min(100,Math.max(0,b=="dv"?a.v+d:a.v))))});return e}c.Palette=function(a){this.colors=
[];if(a instanceof c.Palette)this.colors=a.colors.slice(0);else if(a instanceof c.Color)this.colors=[null,null,a,null,null];else if(i.isArray(a))this.colors=h.map(a.slice(0),function(a){if(i.isString(a))return new c.Color(a);return a});else if(i.isString(a))this.colors=[null,null,new c.Color(a),null,null]};i.extend(c.Palette,{transform:function(a){var b=p;if(a.use){var c=a.use.toLowerCase();c.indexOf("hs")==0?b=c.charAt(2)=="l"?n:o:c.indexOf("cmy")==0&&(b=c.charAt(3)=="k"?m:j)}else if("dc"in a||"dm"in
a||"dy"in a)b="dk"in a?m:j;else if("dh"in a||"ds"in a)b="dv"in a?o:n;var c=this,e;for(e in a)e!="use"&&(c=b(c,e,a[e]));return c},clone:function(){return new c.Palette(this)}});i.mixin(c.Palette,{generators:{analogous:function(a){var b=a.high||60,d=a.low||18,a=(i.isString(a.base)?new c.Color(a.base):a.base).toHsv(),e=Math.max(10,a.s<=95?a.s+5:100-(a.s-95)),g=a.v>=92?a.v-9:Math.max(a.v+9,20),f=a.v<=90?Math.max(a.v+5,20):95+Math.ceil((a.v-90)/2),l=[e,a.s>1?a.s-1:21-a.s,a.s,e,e],k=[g,f,a.v,g,f];return new c.Palette(h.map([(a.h+
d+360)%360,(a.h+Math.round(d/2)+360)%360,a.h,(a.h-Math.round(b/2)+360)%360,(a.h-b+360)%360],function(a,b){return c.fromHsv(a,l[b],k[b])}))},monochromatic:function(a){var a=i.isString(a.base)?new c.Color(a.base):a.base,b=a.toHsv(),d=b.s-30>9?b.s-30:b.s+30,e=b.s,g=b.v-20>20?b.v-20:b.v+60,f=b.v-50>20?b.v-50:b.v+30;return new c.Palette([c.fromHsv(b.h,d,100-(100-b.v)*0.8),c.fromHsv(b.h,e,f),a,c.fromHsv(b.h,d,f),c.fromHsv(b.h,e,g)])},triadic:function(a){var a=i.isString(a.base)?new c.Color(a.base):a.base,
b=a.toHsv(),d=(b.h-157+360)%360,e=b.s>90?b.s-10:b.s+10,g=b.s>95?b.s-5:b.s+5,f=b.v-20>20?b.v-20:b.v+20,l=b.v-30>20?b.v-30:b.v+30,h=b.v-30>70?b.v-30:b.v+30;return new c.Palette([c.fromHsv((b.h+57+360)%360,b.s>20?b.s-10:b.s+10,b.v),c.fromHsv(b.h,e,l),a,c.fromHsv(d,e,f),c.fromHsv(d,g,h)])},complementary:function(a){var a=i.isString(a.base)?new c.Color(a.base):a.base,b=a.toHsv(),d=b.h*2+137<360?b.h*2+137:Math.floor(b.h/2)-137,e=100-(100-b.s)*0.9,g=Math.min(100,b.s+20),f=b.v>20?b.v-30:b.v+30;return new c.Palette([c.fromHsv(b.h,
Math.max(b.s-10,0),Math.min(100,b.v+30)),c.fromHsv(b.h,e,f),a,c.fromHsv(d,g,f),c.fromHsv(d,b.s,b.v)])},splitComplementary:function(a){var b=i.isString(a.base)?new c.Color(a.base):a.base,d=a.da||30,a=b.toHsv(),e=a.h*2+137<360?a.h*2+137:Math.floor(a.h/2)-137,g=(e-d+360)%360,d=(e+d)%360,e=100-(100-a.s)*0.9,f=Math.min(100,a.s+20),h=a.v>20?a.v-30:a.v+30;return new c.Palette([c.fromHsv(g,Math.max(a.s-10,0),Math.min(100,a.v+30)),c.fromHsv(g,e,h),b,c.fromHsv(d,f,h),c.fromHsv(d,a.s,a.v)])},compound:function(a){var a=
i.isString(a.base)?new c.Color(a.base):a.base,b=a.toHsv(),d=b.h*2+18<360?b.h*2+18:Math.floor(b.h/2)-18,e=b.h*2+120<360?b.h*2+120:Math.floor(b.h/2)-120,g=b.h*2+99<360?b.h*2+99:Math.floor(b.h/2)-99,f=b.s-10>80?b.s-10:b.s+10,h=b.s-25>10?b.s-25:b.s+25,k=b.v-20>80?b.v-20:b.v+20,j=Math.max(b.v,20);return new c.Palette([c.fromHsv(d,b.s-40>10?b.s-40:b.s+40,b.v-40>10?b.v-40:b.v+40),c.fromHsv(d,f,k),a,c.fromHsv(e,h,j),c.fromHsv(g,f,k)])},shades:function(a){var a=i.isString(a.base)?new c.Color(a.base):a.base,
b=a.toHsv(),d=b.s==100&&b.v==0?0:b.s,e=b.v-25>=20?b.v-25:b.v+55,g=b.v-75>=20?b.v-75:b.v+5,f=Math.max(b.v-10,20);return new c.Palette([new c.fromHsv(b.h,d,b.v-50>20?b.v-50:b.v+30),new c.fromHsv(b.h,d,e),a,new c.fromHsv(b.h,d,g),new c.fromHsv(b.h,d,f)])}},generate:function(a,b){if(i.isFunction(b))return b({base:a});else if(c.Palette.generators[b])return c.Palette.generators[b]({base:a});throw Error("dojox.color.Palette.generate: the specified generator ('"+b+"') does not exist.");}});return c.Palette});