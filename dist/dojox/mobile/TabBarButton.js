//>>built
define("dojox/mobile/TabBarButton",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dijit/registry","./common","./_ItemBase"],function(k,l,o,b,f,m,j,n){return k("dojox.mobile.TabBarButton",n,{icon1:"",icon2:"",iconPos1:"",iconPos2:"",selected:!1,transition:"none",tag:"LI",selectOne:!0,inheritParams:function(){if(this.icon&&!this.icon1)this.icon1=this.icon;var a=this.getParent();if(a){if(!this.transition)this.transition=a.transition;if(this.icon1&&
a.iconBase&&a.iconBase.charAt(a.iconBase.length-1)==="/")this.icon1=a.iconBase+this.icon1;if(!this.icon1)this.icon1=a.iconBase;if(!this.iconPos1)this.iconPos1=a.iconPos;if(this.icon2&&a.iconBase&&a.iconBase.charAt(a.iconBase.length-1)==="/")this.icon2=a.iconBase+this.icon2;if(!this.icon2)this.icon2=a.iconBase||this.icon1;if(!this.iconPos2)this.iconPos2=a.iconPos||this.iconPos1}},buildRendering:function(){var a=this.anchorNode=f.create("A",{className:"mblTabBarButtonAnchor"});this.connect(a,"onclick",
"onClick");var d=this.box=f.create("DIV",{className:"mblTabBarButtonTextBox"},a),c="",h=this.srcNodeRef;if(h)for(var e=0,g=h.childNodes.length;e<g;e++){var i=h.firstChild;i.nodeType===3&&(c+=l.trim(i.nodeValue));d.appendChild(i)}if(!this.label)this.label=c;this.containerNode=this.domNode=this.srcNodeRef||f.create(this.tag);this.domNode.appendChild(a);this.domNode.className.indexOf("mblDomButton")!=-1&&(a=f.create("DIV",null,a),j.createDomButton(this.domNode,null,a),b.add(this.domNode,"mblTabButtonDomButton"),
b.add(a,"mblTabButtonDomButtonClass"));(this.icon1||this.icon).indexOf("mblDomButton")!=-1&&b.add(this.domNode,"mblTabButtonDomButton")},startup:function(){if(!this._started){this.inheritParams();var a=this.getParent();b.add(this.domNode,(a?a._clsName:"mblTabBarButton")+(this.selected?" mblTabButtonSelected":""));if(a&&a.barType=="segmentedControl")b.remove(this.domNode,"mblTabBarButton"),b.add(this.domNode,a._clsName),this.box.className="";this.set({icon1:this.icon1,icon2:this.icon2});this.inherited(arguments)}},
select:function(a){if(a)this.selected=!1,b.remove(this.domNode,"mblTabButtonSelected");else{this.selected=!0;b.add(this.domNode,"mblTabButtonSelected");for(var a=0,d=this.domNode.parentNode.childNodes;a<d.length;a++)if(d[a].nodeType==1){var c=m.byNode(d[a]);c&&c!=this&&c.deselect()}}if(this.iconNode1)this.iconNode1.style.visibility=this.selected?"hidden":"";if(this.iconNode2)this.iconNode2.style.visibility=this.selected?"":"hidden"},deselect:function(){this.select(!0)},onClick:function(){this.defaultClickAction()},
_setIcon:function(a,d,c,h){var e="iconNode"+c,g="iconPos"+c;a&&(this["icon"+c]=a);if(d){if(this[g]===d)return;this[g]=d}if(a&&a!=="none"){if(!this.iconDivNode)this.iconDivNode=f.create("DIV",{className:"mblTabBarButtonDiv"},this.anchorNode,"first");this[e]?f.empty(this[e]):this[e]=f.create("div",{className:"mblTabBarButtonIcon"},this.iconDivNode);j.createIcon(a,this[g],null,this.alt,this[e]);this[g]&&b.add(this[e].firstChild,"mblTabBarButtonSpriteIcon");b.remove(this.iconDivNode,"mblTabBarButtonNoIcon");
this[e].style.visibility=h?"hidden":""}else this.iconDivNode&&b.add(this.iconDivNode,"mblTabBarButtonNoIcon")},_setIcon1Attr:function(a){this._setIcon(a,null,1,this.selected)},_setIcon2Attr:function(a){this._setIcon(a,null,2,!this.selected)},_setIconPos1Attr:function(a){this._setIcon(null,a,1,this.selected)},_setIconPos2Attr:function(a){this._setIcon(null,a,2,!this.selected)},_setLabelAttr:function(a){this.label=a;this.box.innerHTML=this._cv?this._cv(a):a}})});