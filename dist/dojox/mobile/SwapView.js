//>>built
define("dojox/mobile/SwapView",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-class","dijit/registry","./View","./_ScrollableMixin"],function(l,g,m,j,e,k,n,o){return m("dojox.mobile.SwapView",[n,o],{scrollDir:"f",weight:1.2,buildRendering:function(){this.inherited(arguments);e.add(this.domNode,"mblSwapView");this.setSelectable(this.domNode,!1);this.containerNode=this.domNode;g.subscribe("/dojox/mobile/nextPage",this,"handleNextPage");g.subscribe("/dojox/mobile/prevPage",
this,"handlePrevPage");this.findAppBars()},resize:function(){this.inherited(arguments);l.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},onTouchStart:function(){var a=this.domNode.offsetTop,b=this.nextView(this.domNode);if(b)b.stopAnimation(),e.add(b.domNode,"mblIn"),b.containerNode.style.paddingTop=a+"px";if(b=this.previousView(this.domNode))b.stopAnimation(),e.add(b.domNode,"mblIn"),b.containerNode.style.paddingTop=a+"px";this.inherited(arguments)},handleNextPage:function(a){this.domNode.parentNode===
(a.refId&&j.byId(a.refId)||a.domNode).parentNode&&this.getShowingView()===this&&this.goTo(1)},handlePrevPage:function(a){this.domNode.parentNode===(a.refId&&j.byId(a.refId)||a.domNode).parentNode&&this.getShowingView()===this&&this.goTo(-1)},goTo:function(a){var b=this.domNode.offsetWidth,c=a==1?this.nextView(this.domNode):this.previousView(this.domNode);if(c)c._beingFlipped=!0,c.scrollTo({x:b*a}),c._beingFlipped=!1,c.domNode.style.display="",e.add(c.domNode,"mblIn"),this.slideTo({x:0},0.5,"ease-out",
{x:-b*a})},isSwapView:function(a){return a&&a.nodeType===1&&e.contains(a,"mblSwapView")},nextView:function(a){for(a=a.nextSibling;a;a=a.nextSibling)if(this.isSwapView(a))return k.byNode(a);return null},previousView:function(a){for(a=a.previousSibling;a;a=a.previousSibling)if(this.isSwapView(a))return k.byNode(a);return null},scrollTo:function(a){if(!this._beingFlipped){var b,c;a.x<0?(b=this.nextView(this.domNode),c=a.x+this.domNode.offsetWidth):(b=this.previousView(this.domNode),c=a.x-this.domNode.offsetWidth);
if(b)b.domNode.style.display="",b._beingFlipped=!0,b.scrollTo({x:c}),b._beingFlipped=!1}this.inherited(arguments)},slideTo:function(a,b,c,e){if(!this._beingFlipped){var h=this.domNode.offsetWidth,g=e||this.getPos(),d,f;if(g.x<0)if(d=this.nextView(this.domNode),g.x<-h/4){if(d)a.x=-h,f=0}else d&&(f=h);else if(d=this.previousView(this.domNode),g.x>h/4){if(d)a.x=h,f=0}else d&&(f=-h);if(d){d._beingFlipped=!0;d.slideTo({x:f},b,c);d._beingFlipped=!1;if(f===0)dojox.mobile.currentView=d;d.domNode._isShowing=
d&&f===0}this.domNode._isShowing=!(d&&f===0)}this.inherited(arguments)},onFlickAnimationEnd:function(a){if(!a||!(a.animationName&&a.animationName!=="scrollableViewScroll2")){for(var b=this.domNode.parentNode.childNodes,c=0;c<b.length;c++){var i=b[c];if(this.isSwapView(i)&&(e.remove(i,"mblIn"),!i._isShowing))i.style.display="none"}this.inherited(arguments);if(this.getShowingView()===this)g.publish("/dojox/mobile/viewChanged",[this]),this.containerNode.style.paddingTop=""}}})});