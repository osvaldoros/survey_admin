//>>built
define("dojox/mobile/ComboBox",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojo/dom-style","dojo/window","dijit/form/_AutoCompleterMixin","dijit/popup","./_ComboBoxMenu","./TextBox","./sniff"],function(m,n,l,f,g,o,p,q,h,s,r,i){m.experimental("dojox.mobile.ComboBox");return n("dojox.mobile.ComboBox",[r,q],{dropDownClass:"dojox.mobile._ComboBoxMenu",selectOnClick:!1,autoComplete:!1,dropDown:null,maxHeight:-1,dropDownPosition:["below","above"],
_throttleOpenClose:function(){this._throttleHandler&&clearTimeout(this._throttleHandler);this._throttleHandler=setTimeout(l.hitch(this,function(){this._throttleHandler=null}),500)},_onFocus:function(){this.inherited(arguments);!this._opened&&!this._throttleHandler&&this._startSearchAll()},onInput:function(d){this._onKey(d);this.inherited(arguments)},_setListAttr:function(d){this._set("list",d)},closeDropDown:function(){this._throttleOpenClose();if(this.startHandler)this.disconnect(this.startHandler),
this.startHandler=null,this.moveHandler&&this.disconnect(this.moveHandler),this.endHandler&&this.disconnect(this.endHandler);this.inherited(arguments);h.close(this.dropDown);this._opened=!1},openDropDown:function(){var d=!this._opened,b=this.dropDown,e=b.domNode,j=this.domNode,k=this;if(!this._preparedNode){this._preparedNode=!0;if(e.style.width)this._explicitDDWidth=!0;if(e.style.height)this._explicitDDHeight=!0}var a={display:"",overflow:"hidden",visibility:"hidden"};if(!this._explicitDDWidth)a.width=
"";if(!this._explicitDDHeight)a.height="";o.set(e,a);a=this.maxHeight;if(a==-1)var a=p.getBox(),c=g.position(j,!1),a=Math.floor(Math.max(c.y,a.h-(c.y+c.h)));h.moveOffScreen(b);b.startup&&!b._started&&b.startup();c=g.position(this.dropDown.containerNode,!1);if(a&&c.h>a)c.h=a;c.w=Math.max(c.w,j.offsetWidth);g.setMarginBox(e,c);b=h.open({parent:this,popup:b,around:j,orient:this.dropDownPosition,onExecute:function(){k.closeDropDown()},onCancel:function(){k.closeDropDown()},onClose:function(){k._opened=
!1}});this._opened=!0;if(d)b.aroundCorner.charAt(0)=="B"&&this.domNode.scrollIntoView(!0),this.startHandler=this.connect(f.doc.documentElement,i("touch")?"ontouchstart":"onmousedown",l.hitch(this,function(){var a=!1;this.moveHandler=this.connect(f.doc.documentElement,i("touch")?"ontouchmove":"onmousemove",function(){a=!0});this.endHandler=this.connect(f.doc.documentElement,i("touch")?"ontouchend":"onmouseup",function(){a||this.closeDropDown()})}));return b},postCreate:function(){this.inherited(arguments);
this.connect(this.domNode,"onclick","_onClick")},_onClick:function(){this._throttleHandler||(this.opened?this.closeDropDown():this._startSearchAll())}})});