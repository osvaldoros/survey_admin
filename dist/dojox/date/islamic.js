//>>built
define("dojox/date/islamic",["dojo/_base/kernel","dojo/date","./islamic/Date"],function(i,j,h){i.getObject("date.islamic",!0,dojox);i.experimental("dojox.date.islamic");dojox.date.islamic.getDaysInMonth=function(a){return a.getDaysInIslamicMonth(a.getMonth(),a.getFullYear())};dojox.date.islamic.compare=function(a,d){a instanceof h&&(a=a.toGregorian());d instanceof h&&(d=d.toGregorian());return j.compare.apply(null,arguments)};dojox.date.islamic.add=function(a,d,b){var e=new h(a);switch(d){case "day":e.setDate(a.getDate()+
b);break;case "weekday":var c=a.getDay();if(c+b<5&&c+b>0)e.setDate(a.getDate()+b);else{var f=d=0;c==5?(c=4,f=b>0?-1:1):c==6&&(c=4,f=b>0?-2:2);var c=b>0?5-c-1:-c,g=b-c,i=parseInt(g/5);g%5!=0&&(d=b>0?2:-2);e.setDate(a.getDate()+(d+i*7+g%5+c)+f)}break;case "year":e.setFullYear(a.getFullYear()+b);break;case "week":b*=7;e.setDate(a.getDate()+b);break;case "month":a=a.getMonth();e.setMonth(a+b);break;case "hour":e.setHours(a.getHours()+b);break;case "minute":e._addMinutes(b);break;case "second":e._addSeconds(b);
break;case "millisecond":e._addMilliseconds(b)}return e};dojox.date.islamic.difference=function(a,d,b){var d=d||new h,b=b||"day",e=d.getFullYear()-a.getFullYear(),c=1;switch(b){case "weekday":c=Math.round(dojox.date.islamic.difference(a,d,"day"));e=parseInt(dojox.date.islamic.difference(a,d,"week"));if(c%7==0)c=e*5;else{var b=0,f=a.getDay(),g=d.getDay(),e=parseInt(c/7),d=c%7,a=new h(a);a.setDate(a.getDate()+e*7);a=a.getDay();if(c>0)switch(!0){case f==5:b=-1;break;case f==6:b=0;break;case g==5:b=-1;
break;case g==6:b=-2;break;case a+d>5:b=-2}else if(c<0)switch(!0){case f==5:b=0;break;case f==6:b=1;break;case g==5:b=2;break;case g==6:b=1;break;case a+d<0:b=2}c+=b;c-=e*2}break;case "year":c=e;break;case "month":b=d.toGregorian()>a.toGregorian()?d:a;f=d.toGregorian()>a.toGregorian()?a:d;g=b.getMonth();c=f.getMonth();if(e==0)c=b.getMonth()-f.getMonth();else{c=12-c;c+=g;e=f.getFullYear()+1;for(b=b.getFullYear();e<b;e++)c+=12}d.toGregorian()<a.toGregorian()&&(c=-c);break;case "week":c=parseInt(dojox.date.islamic.difference(a,
d,"day")/7);break;case "day":c/=24;case "hour":c/=60;case "minute":c/=60;case "second":c/=1E3;case "millisecond":c*=d.toGregorian().getTime()-a.toGregorian().getTime()}return Math.round(c)};return dojox.date.islamic});