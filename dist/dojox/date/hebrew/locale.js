//>>built
define("dojox/date/hebrew/locale",["dojo/main","dojo/date","dojo/i18n","dojo/regexp","dojo/string","./Date","./numerals","dojo/i18n!dojo/cldr/nls/hebrew"],function(i,v,k,r,s,q,n){function t(c,d,a,g,h){return h.replace(/([a-z])\1*/ig,function(f){var b,e,l=f.charAt(0),f=f.length,g=["abbr","wide","narrow"];switch(l){case "y":b=a.match(/^he(?:-.+)?$/)?n.getYearHebrewLetters(c.getFullYear()):String(c.getFullYear());break;case "M":b=c.getMonth();f<3?(!c.isLeapYear(c.getFullYear())&&b>5&&b--,a.match(/^he(?:-.+)?$/)?
b=n.getMonthHebrewLetters(b):(b+=1,e=!0)):b=dojox.date.hebrew.locale.getNames("months",g[f-3],"format",a,c)[b];break;case "d":a.match(/^he(?:-.+)?$/)?b=c.getDateLocalized(a):(b=c.getDate(),e=!0);break;case "E":b=c.getDay();f<3?(b+=1,e=!0):(l=["days-format",g[f-3]].join("-"),b=d[l][b]);break;case "a":b=c.getHours()<12?"am":"pm";b=d["dayPeriods-format-wide-"+b];break;case "h":case "H":case "K":case "k":e=c.getHours();switch(l){case "h":b=e%12||12;break;case "H":b=e;break;case "K":b=e%12;break;case "k":b=
e||24}e=!0;break;case "m":b=c.getMinutes();e=!0;break;case "s":b=c.getSeconds();e=!0;break;case "S":b=Math.round(c.getMilliseconds()*Math.pow(10,f-3));e=!0;break;case "z":b="";break;default:throw Error("dojox.date.hebrew.locale.formatPattern: invalid pattern char: "+h);}e&&(b=s.pad(b,f));return b})}function o(c,d,a,g){var h=function(b){return b},d=d||h,a=a||h,g=g||h,f=c.match(/(''|[^'])+/g),b=c.charAt(0)=="'";i.forEach(f,function(e,c){e?(f[c]=(b?a:d)(e),b=!b):f[c]=""});return g(f.join(""))}function u(c,
d,a,g){var g=r.escapeString(g),h=k.normalizeLocale(a.locale);return g.replace(/([a-z])\1*/ig,function(f){var b;b=f.charAt(0);var e=f.length,g="";a.strict?e>1&&(g="0{"+(e-1)+"}"):g="0?";switch(b){case "y":b="\\S+";break;case "M":b=h.match("^he(?:-.+)?$")?e>2?"\\S+ ?\\S+":"\\S{1,4}":e>2?"\\S+ ?\\S+":g+"[1-9]|1[0-2]";break;case "d":b=h.match("^he(?:-.+)?$")?"\\S['\"'\u05f3]{1,2}\\S?":"[12]\\d|"+g+"[1-9]|30";break;case "E":b=h.match("^he(?:-.+)?$")?e>3?"\\S+ ?\\S+":"\\S":"\\S+";break;case "h":b=g+"[1-9]|1[0-2]";
break;case "k":b=g+"\\d|1[01]";break;case "H":b=g+"\\d|1\\d|2[0-3]";break;case "K":b=g+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":b=g+"\\d|[0-5]\\d";break;case "S":b="\\d{"+e+"}";break;case "a":e=a.am||d["dayPeriods-format-wide-am"];g=a.pm||d["dayPeriods-format-wide-pm"];a.strict?b=e+"|"+g:(b=e+"|"+g,e!=e.toLowerCase()&&(b+="|"+e.toLowerCase()),g!=g.toLowerCase()&&(b+="|"+g.toLowerCase()));break;default:b=".*"}c&&c.push(f);return"("+b+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}i.getObject("date.hebrew.locale",
!0,dojox);i.experimental("dojox.date.hebrew.locale");i.requireLocalization("dojo.cldr","hebrew");dojox.date.hebrew.locale.format=function(c,d){var d=d||{},a=k.normalizeLocale(d.locale),g=d.formatLength||"short",h=dojox.date.hebrew.locale._getHebrewBundle(a),f=[],b=i.hitch(this,t,c,h,a,d.fullYear);if(d.selector=="year")return f=c.getFullYear(),a.match(/^he(?:-.+)?$/)?n.getYearHebrewLetters(f):f;d.selector!="time"&&(a=d.datePattern||h["dateFormat-"+g])&&f.push(o(a,b));d.selector!="date"&&(a=d.timePattern||
h["timeFormat-"+g])&&f.push(o(a,b));return f.join(" ")};dojox.date.hebrew.locale.regexp=function(c){return dojox.date.hebrew.locale._parseInfo(c).regexp};dojox.date.hebrew.locale._parseInfo=function(c){var c=c||{},d=k.normalizeLocale(c.locale),d=dojox.date.hebrew.locale._getHebrewBundle(d),a=c.formatLength||"short",g=c.datePattern||d["dateFormat-"+a],a=c.timePattern||d["timeFormat-"+a],h=[];return{regexp:o(c.selector=="date"?g:c.selector=="time"?a:a===void 0?g:g+" "+a,i.hitch(this,u,h,d,c)),tokens:h,
bundle:d}};dojox.date.hebrew.locale.parse=function(c,d){c=c.replace(/[\u200E\u200F\u202A-\u202E]/g,"");d||(d={});var a=dojox.date.hebrew.locale._parseInfo(d),g=a.tokens,h=a.bundle,a=RegExp("^"+a.regexp+"$"),f=a.exec(c),b=k.normalizeLocale(d.locale);if(!f)return console.debug("dojox.date.hebrew.locale.parse: value  "+c+" doesn't match pattern   "+a),null;var e=[5730,3,23,0,0,0,0],l="",o=0,p=["abbr","wide","narrow"];i.every(f,function(a,c){if(!c)return!0;var f=g[c-1],j=f.length;switch(f.charAt(0)){case "y":e[0]=
b.match(/^he(?:-.+)?$/)?n.parseYearHebrewLetters(a):Number(a);break;case "M":if(j>2){var f=dojox.date.hebrew.locale.getNames("months",p[j-3],"format",b,new q(5769,1,1)),m=dojox.date.hebrew.locale.getNames("months",p[j-3],"format",b,new q(5768,1,1));d.strict||(a=a.replace(".","").toLowerCase(),f=i.map(f,function(a){return a?a.replace(".","").toLowerCase():a}),m=i.map(m,function(a){return a?a.replace(".","").toLowerCase():a}));var k=a,a=i.indexOf(f,k);if(a==-1&&(a=i.indexOf(m,k),a==-1))return!1;o=j}else b.match(/^he(?:-.+)?$/)?
a=n.parseMonthHebrewLetters(a):a--;e[1]=Number(a);break;case "D":e[1]=0;case "d":e[2]=b.match(/^he(?:-.+)?$/)?n.parseDayHebrewLetters(a):Number(a);break;case "a":j=d.am||h["dayPeriods-format-wide-am"];f=d.pm||h["dayPeriods-format-wide-pm"];d.strict||(m=/\./g,a=a.replace(m,"").toLowerCase(),j=j.replace(m,"").toLowerCase(),f=f.replace(m,"").toLowerCase());if(d.strict&&a!=j&&a!=f)return!1;l=a==f?"p":a==j?"a":"";break;case "K":a==24&&(a=0);case "h":case "H":case "k":e[3]=Number(a);break;case "m":e[4]=
Number(a);break;case "s":e[5]=Number(a);break;case "S":e[6]=Number(a)}return!0});a=+e[3];l==="p"&&a<12?e[3]=a+12:l==="a"&&a==12&&(e[3]=0);a=new q(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);o<3&&e[1]>=5&&!a.isLeapYear(a.getFullYear())&&a.setMonth(e[1]+1);return a};var p=[];dojox.date.hebrew.locale.addCustomFormats=function(c,d){p.push({pkg:c,name:d})};dojox.date.hebrew.locale._getHebrewBundle=function(c){var d={};i.forEach(p,function(a){a=k.getLocalization(a.pkg,a.name,c);d=i.mixin(d,a)},this);return d};
dojox.date.hebrew.locale.addCustomFormats("dojo.cldr","hebrew");dojox.date.hebrew.locale.getNames=function(c,d,a,g,h){var f,g=dojox.date.hebrew.locale._getHebrewBundle(g),d=[c,a,d];a=="standAlone"&&(a=d.join("-"),f=g[a],f[0]==1&&(f=void 0));d[1]="format";a=(f||g[d.join("-")]).concat();c=="months"&&(h.isLeapYear(h.getFullYear())?(d.push("leap"),a[6]=g[d.join("-")]):delete a[5]);return a};return dojox.date.hebrew.locale});