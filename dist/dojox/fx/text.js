//>>built
define("dojox/fx/text",["dojo/_base/lang","./_base","dojo/_base/fx","dojo/fx","dojo/fx/easing","dojo/dom","dojo/dom-style","dojo/_base/html","dojo/_base/connect"],function(t,w,n,v,l,o,p,u,s){var d=t.getObject("dojox.fx.text",!0);d._split=function(a){function e(b){var c=b.nextSibling;if(b.tagName=="SPAN"&&b.childNodes.length==1&&b.firstChild.nodeType==3){var g=u.coords(b,!0);n++;p.set(b,{padding:0,margin:0,top:a.crop?"0px":g.t+"px",left:a.crop?"0px":g.l+"px",display:"inline"});b=a.pieceAnimation(b,
g,d,n,l);t.isArray(b)?k=k.concat(b):k[k.length]=b}else b.firstChild&&e(b.firstChild);c&&e(c)}var c=a.node=o.byId(a.node),b=c.style,g=p.getComputedStyle(c),d=u.coords(c,!0);a.duration=a.duration||1E3;a.words=a.words||!1;var f=a.text&&typeof a.text=="string"?a.text:c.innerHTML,h=b.height,i=b.width,k=[];p.set(c,{height:g.height,width:g.width});for(var b=/(<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>)/g,g=a.words?/(<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>)\s*|([^\s<]+\s*)/g:
/(<\/?\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>)\s*|([^\s<]\s*)/g,g=typeof a.text=="string"?a.text.match(g):c.innerHTML.match(g),j="",l=0,n=0,q=0;q<g.length;q++){var r=g[q];r.match(b)?j+=r:(j+="<span>"+r+"</span>",l++)}c.innerHTML=j;e(c.firstChild);b=v.combine(k);s.connect(b,"onEnd",b,function(){c.innerHTML=f;p.set(c,{height:h,width:i})});a.onPlay&&s.connect(b,"onPlay",b,a.onPlay);a.onEnd&&s.connect(b,"onEnd",b,a.onEnd);return b};d.explode=function(a){a.node=o.byId(a.node);a.distance=
a.distance||1;a.duration=a.duration||1E3;a.random=a.random||0;if(typeof a.fade=="undefined")a.fade=!0;if(typeof a.sync=="undefined")a.sync=!0;a.random=Math.abs(a.random);a.pieceAnimation=function(e,c,b){var g=c.h,d=c.w,f=a.distance*2,h=a.duration,i=parseFloat(e.style.top),k=parseFloat(e.style.left),j=0,o=0,s=0;a.random&&(j=Math.random()*a.random+Math.max(1-a.random,0),f*=j,h*=j,j=a.unhide&&a.sync||!a.unhide&&!a.sync?a.duration-h:0,o=Math.random()-0.5,s=Math.random()-0.5);var g=(b.h-g)/2-(c.y-b.y),
c=(b.w-d)/2-(c.x-b.x),b=Math.sqrt(Math.pow(c,2)+Math.pow(g,2)),q=i-g*f+b*s,r=k-c*f+b*o,f=n.animateProperty({node:e,duration:h,delay:j,easing:a.easing||(a.unhide?l.sinOut:l.circOut),beforeBegin:a.unhide?function(){a.fade&&p.set(e,"opacity",0);e.style.position=a.crop?"relative":"absolute";e.style.top=q+"px";e.style.left=r+"px"}:function(){e.style.position=a.crop?"relative":"absolute"},properties:{top:a.unhide?{start:q,end:i}:{start:i,end:q},left:a.unhide?{start:r,end:k}:{start:k,end:r}}});return a.fade?
(h=n.animateProperty({node:e,duration:h,delay:j,easing:a.fadeEasing||l.quadOut,properties:{opacity:a.unhide?{start:0,end:1}:{end:0}}}),a.unhide?[h,f]:[f,h]):f};return d._split(a)};d.converge=function(a){a.unhide=!0;return d.explode(a)};d.disintegrate=function(a){a.node=o.byId(a.node);a.duration=a.duration||1500;a.distance=a.distance||1.5;a.random=a.random||0;if(!a.fade)a.fade=!0;var e=Math.abs(a.random);a.pieceAnimation=function(c,b,g,d,f){var h=a.interval||a.duration/(1.5*f),b=a.duration-f*h,d=Math.random()*
f*h*e+Math.max(1-e,0)*(a.reverseOrder||a.distance<0?d*h:(f-d)*h),i={};if(a.unhide){if(i.top={start:parseFloat(c.style.top)-g.h*a.distance,end:parseFloat(c.style.top)},a.fade)i.opacity={start:0,end:1}}else if(i.top={end:parseFloat(c.style.top)+g.h*a.distance},a.fade)i.opacity={end:0};return n.animateProperty({node:c,duration:b,delay:d,easing:a.easing||(a.unhide?l.sinIn:l.circIn),properties:i,beforeBegin:a.unhide?function(){a.fade&&p.set(c,"opacity",0);c.style.position=a.crop?"relative":"absolute";
c.style.top=i.top.start+"px"}:function(){c.style.position=a.crop?"relative":"absolute"}})};return d._split(a)};d.build=function(a){a.unhide=!0;return d.disintegrate(a)};d.blockFadeOut=function(a){a.node=o.byId(a.node);a.duration=a.duration||1E3;a.random=a.random||0;var e=Math.abs(a.random);a.pieceAnimation=function(c,b,d,m,f){b=a.interval||a.duration/(1.5*f);return n.animateProperty({node:c,duration:a.duration-f*b,delay:Math.random()*f*b*e+Math.max(1-e,0)*(a.reverseOrder?(f-m)*b:m*b),easing:a.easing||
l.sinInOut,properties:{opacity:a.unhide?{start:0,end:1}:{end:0}},beforeBegin:a.unhide?function(){p.set(c,"opacity",0)}:void 0})};return d._split(a)};d.blockFadeIn=function(a){a.unhide=!0;return d.blockFadeOut(a)};d.backspace=function(a){a.node=o.byId(a.node);a.words=!1;a.duration=a.duration||2E3;a.random=a.random||0;var e=Math.abs(a.random),c=10;a.pieceAnimation=function(b,d,m,f,h){var d=a.interval||a.duration/(1.5*h),m="textContent"in b?b.textContent:b.innerText,i=m.match(/\s/g);if(typeof a.wordDelay==
"undefined")a.wordDelay=d*2;a.unhide||(c=(h-f-1)*d);var k,j;a.fixed?a.unhide&&(k=function(){p.set(b,"opacity",0)}):a.unhide?(k=function(){b.style.display="none"},j=function(){b.style.display="inline"}):j=function(){b.style.display="none"};f=n.animateProperty({node:b,duration:1,delay:c,easing:a.easing||l.sinInOut,properties:{opacity:a.unhide?{start:0,end:1}:{end:0}},beforeBegin:k,onEnd:j});a.unhide&&(h=Math.random()*m.length*d,c+=h*e+Math.max(1-e,0)*d*m.length+(h*e/2+Math.max(1-e/2,0)*a.wordDelay)*
(i&&m.lastIndexOf(i[i.length-1])==m.length-1));return f};return d._split(a)};d.type=function(a){a.unhide=!0;return d.backspace(a)};return d});