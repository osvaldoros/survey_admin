//>>built
define("dojox/fx/split",["dojo/_base/lang","dojo/dom","dojo/_base/window","dojo/_base/html","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/fx","dojo/fx","./_base","dojo/fx/easing","dojo/_base/connect"],function(q,p,y,f,w,x,z,t,A,B,r,k){var o=q.getObject("dojox.fx");q.mixin(o,{_split:function(a){a.rows=a.rows||3;a.columns=a.columns||3;a.duration=a.duration||1E3;for(var b=a.node=p.byId(a.node),g=b.parentNode,l=y.body();g&&g!=l&&f.style(g,"position")=="static";)g=g.parentNode;for(var c=
g!=l?w.position(g,!0):{x:0,y:0},g=w.position(b,!0),v=f.style(b,"height"),d=f.style(b,"width"),s=f.style(b,"borderLeftWidth")+f.style(b,"borderRightWidth"),i=f.style(b,"borderTopWidth")+f.style(b,"borderBottomWidth"),l=Math.ceil(v/a.rows),e=Math.ceil(d/a.columns),h=x.create(b.tagName,{style:{position:"absolute",padding:0,margin:0,border:"none",top:g.y-c.y+"px",left:g.x-c.x+"px",height:v+i+"px",width:d+s+"px",background:"none",overflow:a.crop?"hidden":"visible",zIndex:f.style(b,"zIndex")}},b,"after"),
c=[],s=x.create(b.tagName,{style:{position:"absolute",border:"none",padding:0,margin:0,height:l+s+"px",width:e+i+"px",overflow:"hidden"}}),i=0,v=a.rows;i<v;i++)for(var d=0,u=a.columns;d<u;d++){var j=q.clone(s),m=q.clone(b),n=i*l,o=d*e;m.style.filter="";z.remove(m,"id");f.style(j,{border:"none",overflow:"hidden",top:n+"px",left:o+"px"});f.style(m,{position:"static",opacity:"1",marginTop:-n+"px",marginLeft:-o+"px"});j.appendChild(m);h.appendChild(j);j=a.pieceAnimation(j,d,i,g);q.isArray(j)?c=c.concat(j):
c.push(j)}b=A.combine(c);k.connect(b,"onEnd",b,function(){h.parentNode.removeChild(h)});a.onPlay&&k.connect(b,"onPlay",b,a.onPlay);a.onEnd&&k.connect(b,"onEnd",b,a.onEnd);return b},explode:function(a){var b=a.node=p.byId(a.node);a.rows=a.rows||3;a.columns=a.columns||3;a.distance=a.distance||1;a.duration=a.duration||1E3;a.random=a.random||0;if(!a.fade)a.fade=!0;if(typeof a.sync=="undefined")a.sync=!0;a.random=Math.abs(a.random);a.pieceAnimation=function(b,c,g,d){var s=d.h/a.rows,i=d.w/a.columns,e=
a.distance*2,h=a.duration,u=b.style,j=parseInt(u.top),m=parseInt(u.left),n=0,o=0,k=0;a.random&&(n=Math.random()*a.random+Math.max(1-a.random,0),e*=n,h*=n,n=a.unhide&&a.sync||!a.unhide&&!a.sync?a.duration-h:0,o=Math.random()-0.5,k=Math.random()-0.5);var g=(d.h-s)/2-s*g,c=(d.w-i)/2-i*c,d=Math.sqrt(Math.pow(c,2)+Math.pow(g,2)),p=parseInt(j-g*e+d*k),q=parseInt(m-c*e+d*o),e=t.animateProperty({node:b,duration:h,delay:n,easing:a.easing||(a.unhide?r.sinOut:r.circOut),beforeBegin:a.unhide?function(){a.fade&&
f.style(b,{opacity:"0"});u.top=p+"px";u.left=q+"px"}:void 0,properties:{top:a.unhide?{start:p,end:j}:{start:j,end:p},left:a.unhide?{start:q,end:m}:{start:m,end:q}}});return a.fade?(h=t.animateProperty({node:b,duration:h,delay:n,easing:a.fadeEasing||r.quadOut,properties:{opacity:a.unhide?{start:"0",end:"1"}:{start:"1",end:"0"}}}),a.unhide?[h,e]:[e,h]):e};var g=o._split(a);a.unhide?k.connect(g,"onEnd",null,function(){f.style(b,{opacity:"1"})}):k.connect(g,"onPlay",null,function(){f.style(b,{opacity:"0"})});
return g},converge:function(a){a.unhide=!0;return o.explode(a)},disintegrate:function(a){var b=a.node=p.byId(a.node);a.rows=a.rows||5;a.columns=a.columns||5;a.duration=a.duration||1500;a.interval=a.interval||a.duration/(a.rows+a.columns*2);a.distance=a.distance||1.5;a.random=a.random||0;if(typeof a.fade=="undefined")a.fade=!0;var g=Math.abs(a.random),l=a.duration-(a.rows+a.columns)*a.interval;a.pieceAnimation=function(b,d,c,i){var e=b.style,d=Math.random()*(a.rows+a.columns)*a.interval*g+Math.max(1-
g,0)*(a.reverseOrder||a.distance<0?(d+c)*a.interval:(a.rows+a.columns-(d+c))*a.interval),h={};if(a.unhide){if(h.top={start:parseInt(e.top)-i.h*a.distance,end:parseInt(e.top)},a.fade)h.opacity={start:"0",end:"1"}}else if(h.top={end:parseInt(e.top)+i.h*a.distance},a.fade)h.opacity={end:"0"};return t.animateProperty({node:b,duration:l,delay:d,easing:a.easing||(a.unhide?r.sinIn:r.circIn),properties:h,beforeBegin:a.unhide?function(){a.fade&&f.style(b,{opacity:"0"});e.top=h.top.start+"px"}:void 0})};var c=
o._split(a);a.unhide?k.connect(c,"onEnd",c,function(){f.style(b,{opacity:"1"})}):k.connect(c,"onPlay",c,function(){f.style(b,{opacity:"0"})});return c},build:function(a){a.unhide=!0;return o.disintegrate(a)},shear:function(a){var b=a.node=p.byId(a.node);a.rows=a.rows||6;a.columns=a.columns||6;a.duration=a.duration||1E3;a.interval=a.interval||0;a.distance=a.distance||1;a.random=a.random||0;if(typeof a.fade=="undefined")a.fade=!0;var g=Math.abs(a.random),l=a.duration-(a.rows+a.columns)*Math.abs(a.interval);
a.pieceAnimation=function(b,d,c,i){var e=!(d%2),h=!(c%2),d=Math.random()*l*g+Math.max(1-g,0)*(a.reverseOrder?(a.rows+a.columns-(d+c))*a.interval:(d+c)*a.interval),f={},j=b.style;if(a.fade)f.opacity=a.unhide?{start:"0",end:"1"}:{end:"0"};a.columns==1?e=h:a.rows==1&&(h=!e);var c=parseInt(j.left),m=parseInt(j.top),n=a.distance*i.w,i=a.distance*i.h;a.unhide?e==h?f.left=e?{start:c-n,end:c}:{start:c+n,end:c}:f.top=e?{start:m+i,end:m}:{start:m-i,end:m}:e==h?f.left=e?{end:c-n}:{end:c+n}:f.top=e?{end:m+i}:
{end:m-i};return t.animateProperty({node:b,duration:l,delay:d,easing:a.easing||r.sinInOut,properties:f,beforeBegin:a.unhide?function(){if(a.fade)j.opacity="0";e==h?j.left=f.left.start+"px":j.top=f.top.start+"px"}:void 0})};var c=o._split(a);a.unhide?k.connect(c,"onEnd",c,function(){f.style(b,{opacity:"1"})}):k.connect(c,"onPlay",c,function(){f.style(b,{opacity:"0"})});return c},unShear:function(a){a.unhide=!0;return o.shear(a)},pinwheel:function(a){var b=a.node=p.byId(a.node);a.rows=a.rows||4;a.columns=
a.columns||4;a.duration=a.duration||1E3;a.interval=a.interval||0;a.distance=a.distance||1;a.random=a.random||0;if(typeof a.fade=="undefined")a.fade=!0;var g=a.duration-(a.rows+a.columns)*Math.abs(a.interval);a.pieceAnimation=function(b,l,d,o){var i=o.h/a.rows,e=o.w/a.columns,h=!(l%2),k=!(d%2),l=Math.random()*g*a.random+Math.max(1-a.random,0)*(a.interval<0?(a.rows+a.columns-(l+d))*a.interval*-1:(l+d)*a.interval),d={},j=b.style;if(a.fade)d.opacity=a.unhide?{start:0,end:1}:{end:0};a.columns==1?h=!k:
a.rows==1&&(k=h);var m=parseInt(j.left),n=parseInt(j.top);if(h)k?d.top=a.unhide?{start:n+i*a.distance,end:n}:{start:n,end:n+i*a.distance}:d.left=a.unhide?{start:m+e*a.distance,end:m}:{start:m,end:m+e*a.distance};h!=k?d.width=a.unhide?{start:e*(1-a.distance),end:e}:{start:e,end:e*(1-a.distance)}:d.height=a.unhide?{start:i*(1-a.distance),end:i}:{start:i,end:i*(1-a.distance)};return t.animateProperty({node:b,duration:g,delay:l,easing:a.easing||r.sinInOut,properties:d,beforeBegin:a.unhide?function(){a.fade&&
f.style(b,"opacity",0);h?k?j.top=n+i*(1-a.distance)+"px":j.left=m+e*(1-a.distance)+"px":(j.left=m+"px",j.top=n+"px");h!=k?j.width=e*(1-a.distance)+"px":j.height=i*(1-a.distance)+"px"}:void 0})};var l=o._split(a);a.unhide?k.connect(l,"onEnd",l,function(){f.style(b,{opacity:"1"})}):k.connect(l,"play",l,function(){f.style(b,{opacity:"0"})});return l},unPinwheel:function(a){a.unhide=!0;return o.pinwheel(a)},blockFadeOut:function(a){var b=a.node=p.byId(a.node);a.rows=a.rows||5;a.columns=a.columns||5;a.duration=
a.duration||1E3;a.interval=a.interval||a.duration/(a.rows+a.columns*2);a.random=a.random||0;var g=Math.abs(a.random),l=a.duration-(a.rows+a.columns)*a.interval;a.pieceAnimation=function(b,c,k){return t.animateProperty({node:b,duration:l,delay:Math.random()*a.duration*g+Math.max(1-g,0)*(a.reverseOrder?(a.rows+a.columns-(c+k))*Math.abs(a.interval):(c+k)*a.interval),easing:a.easing||r.sinInOut,properties:{opacity:a.unhide?{start:"0",end:"1"}:{start:"1",end:"0"}},beforeBegin:a.unhide?function(){f.style(b,
{opacity:"0"})}:function(){b.style.filter=""}})};var c=o._split(a);a.unhide?k.connect(c,"onEnd",c,function(){f.style(b,{opacity:"1"})}):k.connect(c,"onPlay",c,function(){f.style(b,{opacity:"0"})});return c},blockFadeIn:function(a){a.unhide=!0;return o.blockFadeOut(a)}});return B});