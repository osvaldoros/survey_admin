//>>built
define(["dijit","dojo","dojox"],function(i,e){e.provide("dojox.widget.rotator.ThumbnailController");(function(a){a.declare("dojox.widget.rotator.ThumbnailController",null,{rotator:null,constructor:function(b,c){a.mixin(this,b);this._domNode=c;var d=this.rotator;if(d){for(;c.firstChild;)c.removeChild(c.firstChild);for(var f=0;f<d.panes.length;f++){var g=d.panes[f].node,e=a.attr(g,"thumbsrc")||a.attr(g,"src"),h=a.attr(g,"alt")||"";/img/i.test(g.tagName)&&function(b){a.create("a",{classname:"dojoxRotatorThumb dojoxRotatorThumb"+
b+" "+(b==d.idx?"dojoxRotatorThumbSelected":""),href:e,onclick:function(c){a.stopEvent(c);d&&d.control.apply(d,["go",b])},title:h,innerHTML:'<img src="'+e+'" alt="'+h+'"/>'},c)}(f)}this._con=a.connect(d,"onUpdate",this,"_onUpdate")}},destroy:function(){a.disconnect(this._con);a.destroy(this._domNode)},_onUpdate:function(b){var c=this.rotator;b=="onAfterTransition"&&(b=a.query(".dojoxRotatorThumb",this._domNode).removeClass("dojoxRotatorThumbSelected"),c.idx<b.length&&a.addClass(b[c.idx],"dojoxRotatorThumbSelected"))}})})(e)});