//>>built
define(["dijit","dojo","dojox","dojo/require!dojo/fx"],function(s,k,n){k.provide("dojox.widget.rotator.Pan");k.require("dojo.fx");(function(d){function l(a,b){var i=b.next.node,e=b.rotatorBox,g=a%2,c=g?"left":"top",e=(g?e.w:e.h)*(a<2?-1:1),g={},f={};d.style(i,"display","");g[c]={start:0,end:-e};f[c]={start:e,end:0};return d.fx.combine([d.animateProperty({node:b.current.node,duration:b.duration,properties:g,easing:b.easing}),d.animateProperty({node:i,duration:b.duration,properties:f,easing:b.easing})])}
function k(a,b){d.style(a,"zIndex",b)}d.mixin(n.widget.rotator,{pan:function(a){var b=a.wrap,i=a.rotator.panes,e=i.length,g=e,c=a.current.idx,f=a.next.idx,h=Math.abs(f-c),j=Math.abs(e-Math.max(c,f)+Math.min(c,f))%e,o=c<f,m=3,q=[],r=[],p=a.duration;if(!b&&!o||b&&(o&&h>j||!o&&h<j))m=1;if(a.continuous){a.quick&&(p=Math.round(p/(b?Math.min(j,h):h)));k(i[c].node,g--);for(b=m==3;;){h=c;b?++c>=e&&(c=0):--c<0&&(c=e-1);h=i[h];j=i[c];k(j.node,g--);q.push(l(m,d.mixin({easing:function(a){return a}},a,{current:h,
next:j,duration:p})));if(b&&c==f||!b&&c==f)break;r.push(j.node)}var a=d.fx.chain(q),n=d.connect(a,"onEnd",function(){d.disconnect(n);d.forEach(r,function(a){d.style(a,{display:"none",left:0,opacity:1,top:0,zIndex:0})})});return a}return l(m,a)},panDown:function(a){return l(0,a)},panRight:function(a){return l(1,a)},panUp:function(a){return l(2,a)},panLeft:function(a){return l(3,a)}})})(k)});