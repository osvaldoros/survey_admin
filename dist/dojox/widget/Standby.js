//>>built
define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(v,w,x,y,j,z,o,m,p,d,A,h,n,r,B,C,D){v.experimental("dojox.widget.Standby");return w("dojox.widget.Standby",[B,C],{templateString:'<div><div style="display: none; opacity: 0; z-index: 9999; position: absolute; cursor:wait;" dojoAttachPoint="_underlayNode"></div><img src="${image}" style="opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px; left: 0px; cursor:wait;" dojoAttachPoint="_imageNode"><div style="opacity: 0; display: none; z-index: -10000; position: absolute; top: 0px;" dojoAttachPoint="_textNode"></div></div>',
_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",_displayed:!1,_resizeCheck:null,target:"",color:"#C0C0C0",duration:500,_started:!1,_parent:null,zIndex:"auto",startup:function(){if(!this._started){if(typeof this.target==="string"){var a=D.byId(this.target);this.target=a?a.domNode:z.byId(this.target)}if(this.text)this._textNode.innerHTML=
this.text;this.centerIndicator==="image"?(this._centerNode=this._imageNode,o.set(this._imageNode,"src",this.image),o.set(this._imageNode,"alt",this.imageText)):this._centerNode=this._textNode;d.set(this._underlayNode,{display:"none",backgroundColor:this.color});d.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");this.domNode.parentNode&&this.domNode.parentNode!=h.body()&&h.body().appendChild(this.domNode);if(j("ie")==7)this._ieFixNode=m.create("div"),d.set(this._ieFixNode,
{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"}),h.body().appendChild(this._ieFixNode);this.inherited(arguments)}},show:function(){if(!this._displayed)this._anim&&(this._anim.stop(),delete this._anim),this._displayed=!0,this._size(),this._disableOverflow(),this._fadeIn()},hide:function(){if(this._displayed&&(this._anim&&(this._anim.stop(),delete this._anim),this._size(),this._fadeOut(),this._displayed=!1,this._resizeCheck!==null))clearInterval(this._resizeCheck),this._resizeCheck=null},
isVisible:function(){return this._displayed},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=!1;this._resizeCheck&&clearInterval(this._resizeCheck);d.set(this._centerNode,"display","none");d.set(this._underlayNode,"display","none");j("ie")==7&&this._ieFixNode&&(h.body().removeChild(this._ieFixNode),delete this._ieFixNode);this._anim&&(this._anim.stop(),delete this._anim);this._centerNode=this._textNode=this._imageNode=this.target=null;this.inherited(arguments)},_size:function(){if(this._displayed){var a=
o.get(h.body(),"dir");a&&(a=a.toLowerCase());var f,g=this._scrollerWidths(),c=this.target,e=d.get(this._centerNode,"display");d.set(this._centerNode,"display","block");var b=p.position(c,!0);if(c===h.body()||c===h.doc)b=A.getBox(),b.x=b.l,b.y=b.t;var m=p.getMarginBox(this._centerNode);d.set(this._centerNode,"display",e);if(this._ieFixNode)f=-this._ieFixNode.offsetTop/1E3,b.x=Math.floor((b.x+0.9)/f),b.y=Math.floor((b.y+0.9)/f),b.w=Math.floor((b.w+0.9)/f),b.h=Math.floor((b.h+0.9)/f);var i=d.get(c,"zIndex"),
k=e=i;if(this.zIndex==="auto")if(i!="auto")e=parseInt(e,10)+1,k=parseInt(k,10)+2;else{var l=c.parentNode;for(f=-1E5;l&&l!==h.body();){if((i=d.get(l,"zIndex"))&&i!=="auto")i=parseInt(i,10),f<i&&(f=i,e=i+1,k=i+2);l=l.parentNode}}else e=parseInt(this.zIndex,10)+1,k=parseInt(this.zIndex,10)+2;d.set(this._centerNode,"zIndex",k);d.set(this._underlayNode,"zIndex",e);if((e=c.parentNode)&&e!==h.body()&&c!==h.body()&&c!==h.doc){l=b.h;k=b.w;c=p.position(e,!0);if(this._ieFixNode)f=-this._ieFixNode.offsetTop/
1E3,c.x=Math.floor((c.x+0.9)/f),c.y=Math.floor((c.y+0.9)/f),c.w=Math.floor((c.w+0.9)/f),c.h=Math.floor((c.h+0.9)/f);c.w-=e.scrollHeight>e.clientHeight&&e.clientHeight>0?g.v:0;c.h-=e.scrollWidth>e.clientWidth&&e.clientWidth>0?g.h:0;a==="rtl"&&(j("opera")?(b.x+=e.scrollHeight>e.clientHeight&&e.clientHeight>0?g.v:0,c.x+=e.scrollHeight>e.clientHeight&&e.clientHeight>0?g.v:0):j("ie")?c.x+=e.scrollHeight>e.clientHeight&&e.clientHeight>0?g.v:0:j("webkit"));c.w<b.w&&(b.w-=c.w);c.h<b.h&&(b.h-=c.h);var n=c.y,
s=c.y+c.h,q=b.y,t=b.y+l,a=c.x;f=c.x+c.w;var i=b.x,u=b.x+k;if(t>n&&q<n)b.y=c.y,l-=n-q,l<c.h?b.h=l:b.h-=2*(e.scrollWidth>e.clientWidth&&e.clientWidth>0?g.h:0);else if(q<s&&t>s)b.h=s-q;else if(t<=n||q>=s)b.h=0;if(u>a&&i<a)b.x=c.x,k-=a-i,k<c.w?b.w=k:b.w-=2*(e.scrollHeight>e.clientHeight&&e.clientHeight>0?g.w:0);else if(i<f&&u>f)b.w=f-i;else if(u<=a||i>=f)b.w=0}b.h>0&&b.w>0?(d.set(this._underlayNode,{display:"block",width:b.w+"px",height:b.h+"px",top:b.y+"px",left:b.x+"px"}),g=["borderRadius","borderTopLeftRadius",
"borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"],this._cloneStyles(g),j("ie")||(g=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"],this._cloneStyles(g,this)),g=b.h/2-m.h/2,e=b.w/2-m.w/2,b.h>=m.h&&b.w>=m.w?d.set(this._centerNode,{top:g+b.y+"px",left:e+b.x+
"px",display:"block"}):d.set(this._centerNode,"display","none")):(d.set(this._underlayNode,"display","none"),d.set(this._centerNode,"display","none"));if(this._resizeCheck===null){var r=this;this._resizeCheck=setInterval(function(){r._size()},100)}}},_cloneStyles:function(a){x.forEach(a,function(a){d.set(this._underlayNode,a,d.get(this.target,a))},this)},_fadeIn:function(){var a=this,d=n.animateProperty({duration:a.duration,node:a._underlayNode,properties:{opacity:{start:0,end:0.75}}}),g=n.animateProperty({duration:a.duration,
node:a._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){a.onShow();delete a._anim}});this._anim=r.combine([d,g]);this._anim.play()},_fadeOut:function(){var a=this,f=n.animateProperty({duration:a.duration,node:a._underlayNode,properties:{opacity:{start:0.75,end:0}},onEnd:function(){d.set(this.node,{display:"none",zIndex:"-1000"})}}),g=n.animateProperty({duration:a.duration,node:a._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){d.set(this.node,{display:"none",zIndex:"-1000"});
a.onHide();a._enableOverflow();delete a._anim}});this._anim=r.combine([f,g]);this._anim.play()},_ignore:function(a){a&&y.stop(a)},_scrollerWidths:function(){var a=m.create("div");d.set(a,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var f=m.create("div");d.set(f,{width:"200px",height:"10px"});a.appendChild(f);h.body().appendChild(a);f=p.getContentBox(a);d.set(a,"overflow","scroll");var g=p.getContentBox(a);h.body().removeChild(a);
return{v:f.w-g.w,h:f.h-g.h}},_setTextAttr:function(a){this.text=this._textNode.innerHTML=a},_setColorAttr:function(a){d.set(this._underlayNode,"backgroundColor",a);this.color=a},_setImageTextAttr:function(a){o.set(this._imageNode,"alt",a);this.imageText=a},_setImageAttr:function(a){o.set(this._imageNode,"src",a);this.image=a},_setCenterIndicatorAttr:function(a){this.centerIndicator=a;a==="image"?(this._centerNode=this._imageNode,d.set(this._textNode,"display","none")):(this._centerNode=this._textNode,
d.set(this._imageNode,"display","none"))},_disableOverflow:function(){if(this.target===h.body()||this.target===h.doc){this._overflowDisabled=!0;var a=h.body();this._oldOverflow=a.style&&a.style.overflow?d.set(a,"overflow"):"";if(j("ie")&&!j("quirks")){if(a.parentNode&&a.parentNode.style&&a.parentNode.style.overflow)this._oldBodyParentOverflow=a.parentNode.style.overflow;else try{this._oldBodyParentOverflow=d.set(a.parentNode,"overflow")}catch(f){this._oldBodyParentOverflow="scroll"}d.set(a.parentNode,
"overflow","hidden")}d.set(a,"overflow","hidden")}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var a=h.body();if(j("ie")&&!j("quirks"))a.parentNode.style.overflow=this._oldBodyParentOverflow,delete this._oldBodyParentOverflow;d.set(a,"overflow",this._oldOverflow);if(j("webkit")){var f=m.create("div",{style:{height:"2px"}});a.appendChild(f);setTimeout(function(){a.removeChild(f)},0)}delete this._oldOverflow}}})});