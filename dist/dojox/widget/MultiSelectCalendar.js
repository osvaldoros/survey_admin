//>>built
require({cache:{"url:dojox/widget/MultiSelectCalendar/MultiSelectCalendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" dojoAttachEvent="onkeypress: _onKeyPress" aria-labelledby="${id}_year">\n\t<thead>\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="decrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\n\t\t\t\t<span dojoAttachPoint="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset\' colspan="5">\n\t\t\t\t<div dojoType="dijit.form.DropDownButton" dojoAttachPoint="monthDropDownButton"\n\t\t\t\t\tid="${id}_mddb" tabIndex="-1">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' dojoAttachPoint="incrementMonth">\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\n\t\t\t\t<span dojoAttachPoint="increaseArrowNode" class="dijitA11ySideArrow">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent="onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut, onmousedown: _onDayMouseDown, onmouseup: _onDayMouseUp" class="dijitReset dijitCalendarBodyContainer">\n\t\t<tr class="dijitReset dijitCalendarWeekTemplate" role="row">\n\t\t\t<td class="dijitReset dijitCalendarDateTemplate" role="gridcell"><span class="dijitCalendarDateLabel"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\n\t\t<tr>\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7">\n\t\t\t\t<h3 class="dijitCalendarYearLabel">\n\t\t\t\t\t<span dojoAttachPoint="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear"></span>\n\t\t\t\t\t<span dojoAttachPoint="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" id="${id}_year"></span>\n\t\t\t\t\t<span dojoAttachPoint="nextYearLabelNode" class="dijitInline dijitCalendarNextYear"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>'}});
define("dojox/widget/MultiSelectCalendar",["dojo/main","dijit","dojo/text!./MultiSelectCalendar/MultiSelectCalendar.html","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dijit/_Widget","dijit/_Templated","dijit/_CssStateMixin","dijit/form/DropDownButton","dijit/typematic"],function(c,g,o){c.experimental("dojox.widget.MultiSelectCalendar");c.declare("dojox.widget.MultiSelectCalendar",[g._Widget,g._TemplatedMixin,g._WidgetsInTemplateMixin,g._CssStateMixin],{templateString:o,widgetsInTemplate:!0,
value:{},datePackage:"dojo.date",dayWidth:"narrow",tabIndex:"0",returnIsoRanges:!1,currentFocus:new Date,baseClass:"dijitCalendar",cssStateNodes:{decrementMonth:"dijitCalendarArrow",incrementMonth:"dijitCalendarArrow",previousYearLabelNode:"dijitCalendarPreviousYear",nextYearLabelNode:"dijitCalendarNextYear"},_areValidDates:function(a){for(var b in this.value)if(valid=b&&!isNaN(b)&&typeof a=="object"&&b.toString()!=this.constructor.prototype.value.toString(),!valid)return!1;return!0},_getValueAttr:function(){return this.returnIsoRanges?
datesWithRanges=this._returnDatesWithIsoRanges(this._sort()):this._sort()},_setValueAttr:function(a,b){this.value={};if(c.isArray(a))c.forEach(a,function(a){if(a.indexOf("/")==-1)this.value[a]=1;else{var b=new c.date.stamp.fromISOString(a.substr(0,10)),a=new c.date.stamp.fromISOString(a.substr(11,10));this.toggleDate(b,[],[]);b-a>0?this._addToRangeRTL(b,a,[],[]):this._addToRangeLTR(b,a,[],[])}},this),a.length>0&&this.focusOnLastDate(a[a.length-1]);else if(a&&(a=new this.dateClassObj(a)),this._isValidDate(a)&&
(a.setHours(1,0,0,0),!this.isDisabledDate(a,this.lang)&&(dateIndex=c.date.stamp.toISOString(a).substring(0,10),this.value[dateIndex]=1,this.set("currentFocus",a),b||typeof b=="undefined")))this.onChange(this.get("value")),this.onValueSelected(this.get("value"));this._populateGrid()},focusOnLastDate:function(a){var b;a.indexOf("/")==-1?lastDate=a:(b=new c.date.stamp.fromISOString(a.substr(0,10)),a=new c.date.stamp.fromISOString(a.substr(11,10)),lastDate=b-a>0?b:a);this.set("currentFocus",lastDate)},
_isValidDate:function(a){return a&&!isNaN(a)&&typeof a=="object"&&a.toString()!=this.constructor.prototype.value.toString()},_setText:function(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(c.doc.createTextNode(b))},_populateGrid:function(){var a=new this.dateClassObj(this.currentFocus);a.setDate(1);var b=a.getDay(),e=this.dateFuncObj.getDaysInMonth(a),d=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(a,"month",-1)),f=new this.dateClassObj,h=c.cldr.supplemental.getFirstDayOfWeek(this.lang);
h>b&&(h-=7);this.listOfNodes=c.query(".dijitCalendarDateTemplate",this.domNode);this.listOfNodes.forEach(function(k,g){g+=h;var i=new this.dateClassObj(a),l,j="dijitCalendar",m=0;g<b?(l=d-b+g+1,m=-1,j+="Previous"):g>=b+e?(l=g-b-e+1,m=1,j+="Next"):(l=g-b+1,j+="Current");m&&(i=this.dateFuncObj.add(i,"month",m));i.setDate(l);this.dateFuncObj.compare(i,f,"date")||(j="dijitCalendarCurrentDate "+j);dateIndex=c.date.stamp.toISOString(i).substring(0,10);this.isDisabledDate(i,this.lang)||this._isSelectedDate(i,
this.lang)&&(j=this.value[dateIndex]?"dijitCalendarSelectedDate "+j:j.replace("dijitCalendarSelectedDate ",""));this._isSelectedDate(i,this.lang)&&(j="dijitCalendarBrowsingDate "+j);this.isDisabledDate(i,this.lang)&&(j="dijitCalendarDisabledDate "+j);(l=this.getClassForDate(i,this.lang))&&(j=l+" "+j);k.className=j+"Month dijitCalendarDateTemplate";k.dijitDateValue=i.valueOf();c.attr(k,"dijitDateValue",i.valueOf());j=c.query(".dijitCalendarDateLabel",k)[0];i=i.getDateLocalized?i.getDateLocalized(this.lang):
i.getDate();this._setText(j,i)},this);var k=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,a);this.monthDropDownButton.dropDown.set("months",k);this.monthDropDownButton.containerNode.innerHTML=(c.isIE==6?"":"<div class='dijitSpacer'>"+this.monthDropDownButton.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+k[a.getMonth()]+"</div>";var g=a.getFullYear()-1,n=new this.dateClassObj;c.forEach(["previous","current","next"],
function(a){n.setFullYear(g++);this._setText(this[a+"YearLabelNode"],this.dateLocaleModule.format(n,{selector:"year",locale:this.lang}))},this)},goToToday:function(){this.set("currentFocus",new this.dateClassObj,!1)},constructor:function(a){this.dateClassObj=c.getObject(a.datePackage&&a.datePackage!="dojo.date"?a.datePackage+".Date":"Date",!1);this.datePackage=a.datePackage||this.datePackage;this.dateFuncObj=c.getObject(this.datePackage,!1);this.dateLocaleModule=c.getObject(this.datePackage+".locale",
!1)},buildRendering:function(){this.inherited(arguments);c.setSelectable(this.domNode,!1);var a=c.hitch(this,function(a,b){for(var e=c.query(a,this.domNode)[0],d=0;d<b;d++)e.parentNode.appendChild(e.cloneNode(!0))});a(".dijitCalendarDayLabelTemplate",6);a(".dijitCalendarDateTemplate",6);a(".dijitCalendarWeekTemplate",5);var b=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),e=c.cldr.supplemental.getFirstDayOfWeek(this.lang);c.query(".dijitCalendarDayLabel",this.domNode).forEach(function(a,
c){this._setText(a,b[(c+e)%7])},this);a=new this.dateClassObj(this.currentFocus);this.monthDropDownButton.dropDown=new dojox.widget._MonthDropDown({id:this.id+"_mdd",onChange:c.hitch(this,"_onMonthSelect")});this.set("currentFocus",a,!1);var d=this,a=function(a,b,c){d._connects.push(g.typematic.addMouseListener(d[a],d,function(a){a>=0&&d._adjustDisplay(b,c)},0.8,500))};a("incrementMonth","month",1);a("decrementMonth","month",-1);a("nextYearLabelNode","year",1);a("previousYearLabelNode","year",-1)},
_adjustDisplay:function(a,b){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,a,b))},_setCurrentFocusAttr:function(a,b){var e=this.currentFocus,e=e?c.query("[dijitDateValue="+e.valueOf()+"]",this.domNode)[0]:null,a=new this.dateClassObj(a);a.setHours(1,0,0,0);this._set("currentFocus",a);var d=c.date.stamp.toISOString(a).substring(0,7);if(d!=this.previousMonth)this._populateGrid(),this.previousMonth=d;d=c.query("[dijitDateValue="+a.valueOf()+"]",this.domNode)[0];d.setAttribute("tabIndex",
this.tabIndex);(this._focused||b)&&d.focus();e&&e!=d&&(c.isWebKit?e.setAttribute("tabIndex","-1"):e.removeAttribute("tabIndex"))},focus:function(){this._setCurrentFocusAttr(this.currentFocus,!0)},_onMonthSelect:function(a){this.currentFocus=this.dateFuncObj.add(this.currentFocus,"month",a-this.currentFocus.getMonth());this._populateGrid()},toggleDate:function(a,b,e){this.value[c.date.stamp.toISOString(a).substring(0,10)]?this.unselectDate(a,e):this.selectDate(a,b)},selectDate:function(a,b){var e=
this._getNodeByDate(a),d=e.className,f=c.date.stamp.toISOString(a).substring(0,10);this.value[f]=1;b.push(f);e.className="dijitCalendarSelectedDate "+d},unselectDate:function(a,b){var e=this._getNodeByDate(a),d=e.className,f=c.date.stamp.toISOString(a).substring(0,10);delete this.value[f];b.push(f);d=d.replace("dijitCalendarSelectedDate ","");e.className=d},_getNodeByDate:function(a){var b=new this.dateClassObj(this.listOfNodes[0].dijitDateValue);return this.listOfNodes[Math.abs(c.date.difference(b,
a,"day"))]},_onDayClick:function(a){c.stopEvent(a);for(a=a.target;a&&!a.dijitDateValue;a=a.parentNode);if(a&&!c.hasClass(a,"dijitCalendarDisabledDate"))value=new this.dateClassObj(a.dijitDateValue),this.rangeJustSelected?(this.rangeJustSelected=!1,this.set("currentFocus",value)):(this.toggleDate(value,[],[]),this.previouslySelectedDay=value,this.set("currentFocus",value),this.onValueSelected([c.date.stamp.toISOString(value).substring(0,10)]))},_onDayMouseOver:function(a){if((a=c.hasClass(a.target,
"dijitCalendarDateLabel")?a.target.parentNode:a.target)&&(a.dijitDateValue||a==this.previousYearLabelNode||a==this.nextYearLabelNode))c.addClass(a,"dijitCalendarHoveredDate"),this._currentNode=a},_setEndRangeAttr:function(a){a=new this.dateClassObj(a);a.setHours(1);this.endRange=a},_getEndRangeAttr:function(){var a=new this.dateClassObj(this.endRange);a.setHours(0,0,0,0);a.getDate()<this.endRange.getDate()&&(a=this.dateFuncObj.add(a,"hour",1));return a},_onDayMouseOut:function(a){if(this._currentNode&&
!(a.relatedTarget&&a.relatedTarget.parentNode==this._currentNode))a="dijitCalendarHoveredDate",c.hasClass(this._currentNode,"dijitCalendarActiveDate")&&(a+=" dijitCalendarActiveDate"),c.removeClass(this._currentNode,a),this._currentNode=null},_onDayMouseDown:function(a){var b=a.target.parentNode;if(b&&b.dijitDateValue)c.addClass(b,"dijitCalendarActiveDate"),this._currentNode=b;a.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",b.dijitDateValue),this._selectRange()):
(this.selectingRange=!1,this.previousRangeEnd=this.previousRangeStart=null)},_onDayMouseUp:function(a){(a=a.target.parentNode)&&a.dijitDateValue&&c.removeClass(a,"dijitCalendarActiveDate")},handleKey:function(a){var b=c.keys,e=-1,d,f=this.currentFocus;switch(a.keyCode){case b.RIGHT_ARROW:e=1;case b.LEFT_ARROW:d="day";this.isLeftToRight()||(e*=-1);break;case b.DOWN_ARROW:e=1;case b.UP_ARROW:d="week";break;case b.PAGE_DOWN:e=1;case b.PAGE_UP:d=a.ctrlKey||a.altKey?"year":"month";break;case b.END:f=this.dateFuncObj.add(f,
"month",1),d="day";case b.HOME:f=new this.dateClassObj(f);f.setDate(1);break;case b.ENTER:case b.SPACE:a.shiftKey&&this.previouslySelectedDay?(this.selectingRange=!0,this.set("endRange",f),this._selectRange()):(this.selectingRange=!1,this.toggleDate(f,[],[]),this.previouslySelectedDay=f,this.previousRangeEnd=this.previousRangeStart=null,this.onValueSelected([c.date.stamp.toISOString(f).substring(0,10)]));break;default:return!0}d&&(f=this.dateFuncObj.add(f,d,e));this.set("currentFocus",f);return!1},
_onKeyPress:function(a){this.handleKey(a)||c.stopEvent(a)},_removeFromRangeLTR:function(a,b,e,d){difference=Math.abs(c.date.difference(a,b,"day"));for(var f=0;f<=difference;f++){var h=c.date.add(a,"day",f);this.toggleDate(h,e,d)}if(this.previousRangeEnd==null)this.previousRangeEnd=b;else if(c.date.compare(b,this.previousRangeEnd,"date")>0)this.previousRangeEnd=b;if(this.previousRangeStart==null)this.previousRangeStart=b;else if(c.date.compare(b,this.previousRangeStart,"date")>0)this.previousRangeStart=
b;this.previouslySelectedDay=c.date.add(h,"day",1)},_removeFromRangeRTL:function(a,b,e,d){difference=Math.abs(c.date.difference(a,b,"day"));for(var f=0;f<=difference;f++){var h=c.date.add(a,"day",-f);this.toggleDate(h,e,d)}if(this.previousRangeEnd==null)this.previousRangeEnd=b;else if(c.date.compare(b,this.previousRangeEnd,"date")<0)this.previousRangeEnd=b;if(this.previousRangeStart==null)this.previousRangeStart=b;else if(c.date.compare(b,this.previousRangeStart,"date")<0)this.previousRangeStart=
b;this.previouslySelectedDay=c.date.add(h,"day",-1)},_addToRangeRTL:function(a,b,e,d){difference=Math.abs(c.date.difference(a,b,"day"));for(var f=1;f<=difference;f++){var h=c.date.add(a,"day",-f);this.toggleDate(h,e,d)}if(this.previousRangeStart==null)this.previousRangeStart=b;else if(c.date.compare(b,this.previousRangeStart,"date")<0)this.previousRangeStart=b;if(this.previousRangeEnd==null)this.previousRangeEnd=a;else if(c.date.compare(a,this.previousRangeEnd,"date")>0)this.previousRangeEnd=a;this.previouslySelectedDay=
h},_addToRangeLTR:function(a,b,e,d){difference=Math.abs(c.date.difference(a,b,"day"));for(var f=1;f<=difference;f++){var h=c.date.add(a,"day",f);this.toggleDate(h,e,d)}if(this.previousRangeStart==null)this.previousRangeStart=a;else if(c.date.compare(a,this.previousRangeStart,"date")<0)this.previousRangeStart=a;if(this.previousRangeEnd==null)this.previousRangeEnd=b;else if(c.date.compare(b,this.previousRangeEnd,"date")>0)this.previousRangeEnd=b;this.previouslySelectedDay=h},_selectRange:function(){var a=
[],b=[],e=this.previouslySelectedDay,d=this.get("endRange");removingFromRange=!this.previousRangeStart&&!this.previousRangeEnd?!1:c.date.compare(d,this.previousRangeStart,"date")<0||c.date.compare(d,this.previousRangeEnd,"date")>0?!1:!0;removingFromRange==!0?c.date.compare(d,e,"date")<0?this._removeFromRangeRTL(e,d,a,b):this._removeFromRangeLTR(e,d,a,b):c.date.compare(d,e,"date")<0?this._addToRangeRTL(e,d,a,b):this._addToRangeLTR(e,d,a,b);if(a.length>0)this.onValueSelected(a);if(b.length>0)this.onValueUnselected(b);
this.rangeJustSelected=!0},onValueSelected:function(){},onValueUnselected:function(){},onChange:function(){},_isSelectedDate:function(a){dateIndex=c.date.stamp.toISOString(a).substring(0,10);return this.value[dateIndex]},isDisabledDate:function(){},getClassForDate:function(){},_sort:function(){if(this.value=={})return[];var a=[],b;for(b in this.value)a.push(b);a.sort(function(a,b){return new Date(a)-new Date(b)});return a},_returnDatesWithIsoRanges:function(a){var b=[];if(a.length>1){for(var e=!1,
d=null,f=null,h=c.date.stamp.fromISOString(a[0]),g=1;g<a.length+1;g++)currentDate=c.date.stamp.fromISOString(a[g]),e?(difference=Math.abs(c.date.difference(h,currentDate,"day")),difference==1?f=currentDate:(range=c.date.stamp.toISOString(d).substring(0,10)+"/"+c.date.stamp.toISOString(f).substring(0,10),b.push(range),e=!1)):(difference=Math.abs(c.date.difference(h,currentDate,"day")),difference==1?(e=!0,d=h,f=currentDate):b.push(c.date.stamp.toISOString(h).substring(0,10))),h=currentDate;return b}else return a}});
c.declare("dojox.widget._MonthDropDown",[g._Widget,g._TemplatedMixin,g._WidgetsInTemplateMixin],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' dojoAttachEvent='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(a){this.domNode.innerHTML=c.map(a,function(a,c){return a?"<div class='dijitCalendarMonthLabel' month='"+c+"'>"+a+"</div>":""}).join("")},_onClick:function(a){this.onChange(c.attr(a.target,"month"))},onChange:function(){},
_onMenuHover:function(a){c.toggleClass(a.target,"dijitCalendarMonthLabelHover",a.type=="mouseover")}});return dojox.widget.MultiSelectCalendar});