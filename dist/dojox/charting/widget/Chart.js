//>>built
define("dojox/charting/widget/Chart",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/declare","dojo/query","dijit/_Widget","../Chart","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/lambda","dijit/_base/manager"],function(o,g,l,t,u,h,v,w,m,x,y){var i,p,q,r,s,j=function(c){return c},k=g.getObject("dojox.charting"),o=u("dojox.charting.widget.Chart",v,{theme:null,margins:null,stroke:void 0,fill:void 0,buildRendering:function(){this.inherited(arguments);
n=this.domNode;var c=h("> .axis",n).map(p).filter(j),d=h("> .plot",n).map(q).filter(j),b=h("> .action",n).map(r).filter(j),a=h("> .series",n).map(s).filter(j);n.innerHTML="";var e=this.chart=new w(n,{margins:this.margins,stroke:this.stroke,fill:this.fill,textDir:this.textDir});this.theme&&e.setTheme(this.theme);c.forEach(function(a){e.addAxis(a.name,a.kwArgs)});d.forEach(function(a){e.addPlot(a.name,a.kwArgs)});this.actions=b.map(function(a){return new a.action(e,a.plot,a.kwArgs)});x.foldl(a,function(a,
b){if(b.type=="data")e.addSeries(b.name,b.data,b.kwArgs),a=!0;else{e.addSeries(b.name,[0],b.kwArgs);var c={};m.updateWithPattern(c,b.kwArgs,{query:"",queryOptions:null,start:0,count:1},!0);if(b.kwArgs.sort)c.sort=g.clone(b.kwArgs.sort);g.mixin(c,{onComplete:function(a){if("valueFn"in b.kwArgs)var c=b.kwArgs.valueFn,a=l.map(a,function(a){return c(b.data.getValue(a,b.field,0))});else a=l.map(a,function(a){return b.data.getValue(a,b.field,0)});e.addSeries(b.name,a,b.kwArgs).render()}});b.data.fetch(c)}return a},
!1)&&e.render()},destroy:function(){this.chart.destroy();this.inherited(arguments)},resize:function(c){this.chart.resize(c)}});i=function(c,d,b){var a=eval("("+d+".prototype.defaultParams)"),e,f;for(e in a)e in b||(f=c.getAttribute(e),b[e]=m.coerceType(a[e],f==null||typeof f=="undefined"?a[e]:f));d=eval("("+d+".prototype.optionalParams)");for(e in d)e in b||(f=c.getAttribute(e),f!=null&&(b[e]=m.coerceType(d[e],f)))};p=function(c){var d=c.getAttribute("name"),b=c.getAttribute("type");if(!d)return null;
var d={name:d,kwArgs:{}},a=d.kwArgs;if(b){k.axis2d[b]&&(b=dojo._scopeName+"x.charting.axis2d."+b);var e=eval("("+b+")");if(e)a.type=e}else b=dojo._scopeName+"x.charting.axis2d.Default";i(c,b,a);if(a.font||a.fontColor){if(!a.tick)a.tick={};if(a.font)a.tick.font=a.font;if(a.fontColor)a.tick.fontColor=a.fontColor}return d};q=function(c){var d=c.getAttribute("name"),b=c.getAttribute("type");if(!d)return null;var d={name:d,kwArgs:{}},a=d.kwArgs;if(b){k.plot2d&&k.plot2d[b]&&(b=dojo._scopeName+"x.charting.plot2d."+
b);var e=eval("("+b+")");if(e)a.type=e}else b=dojo._scopeName+"x.charting.plot2d.Default";i(c,b,a);return d};r=function(c){var d=c.getAttribute("plot"),b=c.getAttribute("type");d||(d="default");var d={plot:d,kwArgs:{}},a=d.kwArgs;if(b){k.action2d[b]&&(b=dojo._scopeName+"x.charting.action2d."+b);var e=eval("("+b+")");if(!e)return null;d.action=e}else return null;i(c,b,a);return d};s=function(c){var c=g.partial(t.attr,c),d=c("name");if(!d)return null;var d={name:d,kwArgs:{}},b=d.kwArgs,a;a=c("plot");
if(a!=null)b.plot=a;a=c("marker");if(a!=null)b.marker=a;a=c("stroke");if(a!=null)b.stroke=eval("("+a+")");a=c("outline");if(a!=null)b.outline=eval("("+a+")");a=c("shadow");if(a!=null)b.shadow=eval("("+a+")");a=c("fill");if(a!=null)b.fill=eval("("+a+")");a=c("font");if(a!=null)b.font=a;a=c("fontColor");if(a!=null)b.fontColor=eval("("+a+")");a=c("legend");if(a!=null)b.legend=a;a=c("data");if(a!=null)return d.type="data",d.data=a?l.map(String(a).split(","),Number):[],d;a=c("array");if(a!=null)return d.type=
"data",d.data=eval("("+a+")"),d;a=c("store");if(a!=null){d.type="store";d.data=eval("("+a+")");a=c("field");d.field=a!=null?a:"value";if(a=c("query"))b.query=a;if(a=c("queryOptions"))b.queryOptions=eval("("+a+")");if(a=c("start"))b.start=Number(a);if(a=c("count"))b.count=Number(a);if(a=c("sort"))b.sort=eval("("+a+")");if(a=c("valueFn"))b.valueFn=y.lambda(a);return d}return null};return o});