//>>built
define("dojox/charting/plot2d/ClusteredColumns",["dojo/_base/array","dojo/_base/declare","./Columns","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils"],function(x,k,l,y,z,m){var A=m.lambda("item.purgeGroup()");return k("dojox.charting.plot2d.ClusteredColumns",l,{render:function(h,f){var B;if(this.zoom&&!this.isDataDirty())return this.performZoom(h,f);this.resetEvents();if(this.dirty=this.isDirty()){x.forEach(this.series,A);this._eventSeries={};this.cleanGroup();
var n=this.group;z.forEachRev(this.series,function(a){a.cleanGroup(n)})}var i=this.chart.theme,d,r,s,k=this._hScaler.scaler.getTransformerFromModel(this._hScaler),t=this._vScaler.scaler.getTransformerFromModel(this._vScaler),u=Math.max(0,this._vScaler.bounds.lower),o=t(u),l=this.events();d=y.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);r=d.gap;B=s=d.size,d=B;for(var j=0;j<this.series.length;++j){var b=this.series[j],m=s*j;if(!this.dirty&&!b.dirty)i.skip(),this._reconnectEvents(b.name);
else{b.cleanGroup();for(var v=i.next("column",[this.opt,b]),n=b.group,w=Array(b.data.length),c=0;c<b.data.length;++c){var a=b.data[c];if(a!==null){var e=typeof a=="number"?a:a.y,g=t(e),p=Math.abs(g-o),a=typeof a!="number"?i.addMixin(v,"column",a,!0):i.post(v,"column");if(d>=1&&p>=0){var g={x:f.l+k(c+0.5)+r+m,y:h.height-f.b-(e>u?g:o),width:d,height:p},q=this._plotFill(a.series.fill,h,f),q=this._shapeFill(q,g),a=n.createRect(g).setFill(q).setStroke(a.series.stroke);b.dyn.fill=a.getFill();b.dyn.stroke=
a.getStroke();l&&(e={element:"column",index:c,run:b,shape:a,x:c+0.5,y:e},this._connectEvents(e),w[c]=e);this.animate&&this._animateColumn(a,h.height-f.b-o,p)}}}this._eventSeries[b.name]=w;b.dirty=!1}}this.dirty=!1;return this}})});