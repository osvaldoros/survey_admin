//>>built
define(["dijit","dojo","dojox"],function(f,d,e){d.provide("dojox.drawing.stencil.Path");e.drawing.stencil.Path=e.drawing.util.oo.declare(e.drawing.stencil._Base,function(){d.disconnect(this._postRenderCon)},{type:"dojox.drawing.stencil.Path",closePath:!0,baseRender:!0,closeRadius:10,closeColor:{r:255,g:255,b:0,a:0.5},_create:function(a,b){this.remove(this[a]);if(this.points.length){if(e.gfx.renderer=="svg"){var c=[];d.forEach(this.points,function(a,b){if(!a.skip)if(b==0)c.push("M "+a.x+" "+a.y);else{var d=
(a.t||"")+" ";a.x===void 0?c.push(d):c.push(d+a.x+" "+a.y)}},this);this.closePath&&c.push("Z");this.stringPath=c.join(" ");this[a]=this.container.createPath(c.join(" ")).setStroke(b);this.closePath&&this[a].setFill(b.fill)}else this[a]=this.container.createPath({}).setStroke(b),this.closePath&&this[a].setFill(b.fill),d.forEach(this.points,function(b,c){b.skip||(c==0||b.t=="M"?this[a].moveTo(b.x,b.y):b.t=="Z"?this.closePath&&this[a].closePath():this[a].lineTo(b.x,b.y))},this),this.closePath&&this[a].closePath();
this._setNodeAtts(this[a])}},render:function(){this.onBeforeRender(this);this.renderHit&&this._create("hit",this.style.currentHit);this._create("shape",this.style.current)},getBounds:function(){var a=1E4,b=1E4,c=0,e=0;d.forEach(this.points,function(d){d.x!==void 0&&!isNaN(d.x)&&(a=Math.min(a,d.x),b=Math.min(b,d.y),c=Math.max(c,d.x),e=Math.max(e,d.y))});return{x1:a,y1:b,x2:c,y2:e,x:a,y:b,w:c-a,h:e-b}},checkClosePoint:function(a,b,c){b=this.util.distance(a.x,a.y,b.x,b.y);if(this.points.length>1)if(b<
this.closeRadius&&!this.closeGuide&&!c)this.closeGuide=this.container.createEllipse({cx:a.x,cy:a.y,rx:this.closeRadius,ry:this.closeRadius}).setFill(this.closeColor);else if(c||b>this.closeRadius&&this.closeGuide)this.remove(this.closeGuide),this.closeGuide=null;return b<this.closeRadius}});e.drawing.register({name:"dojox.drawing.stencil.Path"},"stencil")});