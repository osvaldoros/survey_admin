//>>built
define(["dijit","dojo","dojox"],function(h,g,c){g.provide("dojox.drawing.tools.Line");c.drawing.tools.Line=c.drawing.util.oo.declare(c.drawing.stencil.Line,function(){},{draws:!0,showAngle:!0,onTransformEnd:function(){this._toggleSelected();if(this.getRadius()<this.minimumSize){var a=this.points;this.setPoints([{x:a[0].x,y:a[0].y},{x:a[0].x,y:a[0].y}])}else{var a=this.data,b=this.util.snapAngle({start:{x:a.x1,y:a.y1},x:a.x2,y:a.y2},this.angleSnap/180);this.setPoints([{x:a.x1,y:a.y1},{x:b.x,y:b.y}]);
this._isBeingModified=!1;this.onModify(this)}},onDrag:function(a){if(!this.created){var b=a.start.x,c=a.start.y,e=a.x,d=a.y;if(this.keys.shift)d=this.util.snapAngle(a,0.25),e=d.x,d=d.y;if(this.keys.alt){var a=e>b?(e-b)/2:(b-e)/-2,f=d>c?(d-c)/2:(c-d)/-2;b-=a;e-=a;c-=f;d-=f}this.setPoints([{x:b,y:c},{x:e,y:d}]);this.render()}},onUp:function(a){if(!this.created&&this._downOnCanvas){this._downOnCanvas=!1;if(this.shape){if(this.getRadius()<this.minimumSize){this.remove(this.shape,this.hit);return}}else{var b=
a.start;this.setPoints([{x:b.x,y:b.y+this.minimumSize*4},{x:b.x,y:b.y}]);this.render()}a=this.util.snapAngle(a,this.angleSnap/180);b=this.points;this.setPoints([{x:b[0].x,y:b[0].y},{x:a.x,y:a.y}]);this.renderedOnce=!0;this.onRender(this)}}});c.drawing.tools.Line.setup={name:"dojox.drawing.tools.Line",tooltip:"Line Tool",iconClass:"iconLine"};c.drawing.register(c.drawing.tools.Line.setup,"tool")});